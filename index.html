<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProSmart Factories - Inteligencia Operativa Industrial | Reduce Tiempos Muertos</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="ProSmart Factories: Plataforma de Inteligencia Operativa Industrial que reduce tiempos muertos hasta un 40%. Asistente IA vía WhatsApp para resolver dudas de operarios en segundos. Solicita diagnóstico gratuito.">
    <meta name="keywords"
        content="inteligencia operativa industrial, reducir tiempos muertos, optimización producción, industria 4.0, asistente IA fábrica, WhatsApp industrial, productividad manufactura, OEE, eficiencia operativa">
    <meta name="author" content="ProSmart Factories">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Spanish">
    <meta name="revisit-after" content="7 days">
    <link rel="canonical" href="https://prosmartfactories.com/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://prosmartfactories.com/">
    <meta property="og:title" content="ProSmart Factories - Inteligencia Operativa Industrial">
    <meta property="og:description"
        content="Reduce tiempos muertos hasta un 40% con nuestro asistente IA. Resuelve dudas de operarios en segundos vía WhatsApp.">
    <meta property="og:image" content="https://prosmartfactories.com/assets/images/og-image.png">
    <meta property="og:locale" content="es_ES">
    <meta property="og:site_name" content="ProSmart Factories">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://prosmartfactories.com/">
    <meta name="twitter:title" content="ProSmart Factories - Inteligencia Operativa Industrial">
    <meta name="twitter:description"
        content="Reduce tiempos muertos hasta un 40% con nuestro asistente IA vía WhatsApp.">
    <meta name="twitter:image" content="https://prosmartfactories.com/assets/images/og-image.png">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/logo_psf_1_-removebg-preview.png">
    <link rel="apple-touch-icon" href="assets/images/logo_psf_1_-removebg-preview.png">

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "ProSmart Factories",
        "url": "https://prosmartfactories.com",
        "logo": "https://prosmartfactories.com/assets/images/Logo_PSF_Blanco.png",
        "description": "Plataforma de Inteligencia Operativa Industrial que reduce tiempos muertos hasta un 40%",
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "sales",
            "availableLanguage": ["Spanish", "English"]
        },
        "sameAs": []
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "ProSmart Factories",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web, WhatsApp",
        "description": "Asistente IA vía WhatsApp para resolver dudas de operarios industriales en segundos",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR",
            "description": "Diagnóstico gratuito disponible"
        }
    }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        :root {
            /* === PRIMITIVAS DE COLOR === */
            --color-navy-950: #0a0f1c;
            --color-navy-900: #111827;
            --color-navy-800: #1a2332;
            --color-orange-500: #f97316;
            --color-orange-600: #ea580c;
            --color-red-500: #ef4444;
            --color-red-600: #dc2626;
            --color-green-500: #22c55e;
            --color-green-600: #25D366;
            --color-slate-400: #94a3b8;
            --color-slate-200: #f8fafc;

            /* === TOKENS SEMÁNTICOS === */
            --bg-primary: var(--color-navy-950);
            --bg-secondary: var(--color-navy-900);
            --surface-elevated: var(--color-navy-800);
            --text-primary: var(--color-slate-200);
            --text-secondary: var(--color-slate-400);
            --brand-primary: var(--color-orange-500);
            --brand-primary-hover: var(--color-orange-600);
            --feedback-danger: var(--color-red-500);
            --feedback-success: var(--color-green-500);

            /* Legacy support - mapping old variables to new tokens */
            --bg: var(--bg-primary);
            --bg2: var(--bg-secondary);
            --card: var(--surface-elevated);
            --primary: var(--brand-primary);
            --primary-dark: var(--brand-primary-hover);
            --danger: var(--feedback-danger);
            --danger-dark: var(--color-red-600);
            --success: var(--feedback-success);
            --warning: #eab308;
            --purple: #a855f7;
            --text: var(--text-primary);
            --muted: var(--text-secondary);
            --line: #1e293b;
            --border: rgba(255, 255, 255, 0.1);
            --whatsapp: var(--color-green-600);
            --whatsapp-dark: #128C7E;

            /* === ESPACIADO SISTEMÁTICO === */
            --space-xs: 0.5rem;
            /* 8px */
            --space-sm: 1rem;
            /* 16px */
            --space-md: 1.5rem;
            /* 24px */
            --space-lg: 2.5rem;
            /* 40px */
            --space-xl: 4rem;
            /* 64px */
            --space-2xl: 7.5rem;
            /* 120px */

            /* === TIMING DE ANIMACIONES === */
            --duration-instant: 150ms;
            --duration-fast: 250ms;
            --duration-normal: 400ms;
            --duration-slow: 600ms;

            /* === EASING CURVES === */
            --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
            --ease-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --ease-in: cubic-bezier(0.4, 0, 1, 1);
            --ease-out: cubic-bezier(0, 0, 0.2, 1);

            /* === TIPOGRAFÍA ESCALABLE === */
            --text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
            --text-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
            --text-base: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);
            --text-lg: clamp(1.125rem, 1rem + 0.625vw, 1.5rem);
            --text-xl: clamp(1.5rem, 1.25rem + 1.25vw, 2.25rem);
            --text-2xl: clamp(2rem, 1.5rem + 2.5vw, 3.5rem);
            --text-3xl: clamp(2.5rem, 2rem + 2.5vw, 4.5rem);
            --text-4xl: clamp(2.8rem, 2.2rem + 3vw, 5rem);

            /* === RADIOS DE BORDE === */
            --radius-sm: 8px;
            --radius-md: 14px;
            --radius-lg: 24px;
            --radius-xl: 32px;
            --radius-full: 9999px;

            /* === SOMBRAS ELEVACIÓN === */
            --shadow-sm: 0 4px 20px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 10px 40px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.3);
            --shadow-brand: 0 10px 40px rgba(249, 115, 22, 0.3);

            /* WhatsApp Brand Colors */
            --wa-green: #25D366;
            --wa-light-green: #128C7E;
            --wa-dark: #111b21;
            --wa-darker: #0b141a;
            --wa-bubble-out: #005c4b;
            --wa-bubble-in: #202c33;
            --wa-header: #202c33;
        }

        /* Responsive Container Adjustment */
        @media (max-width: 768px) {
            .container {
                padding: 0 20px;
            }

            .line-left,
            .line-right {
                display: none;
                /* Hide decorative lines on small screens */
            }

            .header-inner {
                padding: 8px 15px;
            }

            .logo img {
                height: 45px;
            }

            .header-cta {
                padding: 8px 16px;
                font-size: 0.75rem;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: #050505;
            /* Fallback */
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .particle {
            position: absolute;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0.15;
            animation: floatP 25s infinite ease-in-out;
            will-change: transform, opacity;
        }

        .particle.gear {
            width: 20px;
            height: 20px;
            background: none;
            border: 2px solid var(--primary);
            opacity: 0.08;
            animation: floatG 30s infinite linear;
            will-change: transform, opacity;
        }

        @media (prefers-reduced-motion: reduce) {

            *,
            ::before,
            ::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        @keyframes floatP {

            0%,
            100% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10%,
            90% {
                opacity: 0.15;
            }
        }

        @keyframes floatG {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10%,
            90% {
                opacity: 0.08;
            }

            100% {
                transform: translateY(-100vh) rotate(1080deg);
                opacity: 0;
            }
        }

        /* 1. Living Grid */
        .grid-container {
            position: absolute;
            inset: 0;
            perspective: 1000px;
            overflow: hidden;
            /* background removed to reveal neural network */
            z-index: 0;
            pointer-events: none;
        }

        .grid-lines {
            position: absolute;
            inset: -50%;
            width: 200%;
            height: 200%;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            transform: rotateX(60deg) translateY(-100px);
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            0% {
                transform: rotateX(60deg) translateY(0);
            }

            100% {
                transform: rotateX(60deg) translateY(60px);
            }
        }



        @keyframes gridPulse {

            0%,
            100% {
                opacity: 0.3;
            }

            50% {
                opacity: 0.6;
            }
        }

        .line-left,
        .line-right {
            position: fixed;
            top: 0;
            bottom: 0;
            width: 4px;
            /* Thicker */
            background: linear-gradient(180deg, transparent, rgba(249, 115, 22, 0.2) 5%, rgba(249, 115, 22, 0.2) 95%, transparent);
            z-index: 100;
            /* Higher z-index to sit on top */
            overflow: hidden;
            pointer-events: none;
        }

        .line-left {
            left: 30px;
        }

        .line-right {
            right: 30px;
        }

        .line-left::before,
        .line-right::before {
            content: '';
            position: absolute;
            left: 0;
            width: 100%;
            height: 200px;
            /* Longer tail */
            background: linear-gradient(180deg, #f97316, #ef4444, transparent);
            border-radius: 4px;
            filter: drop-shadow(0 0 10px #f97316);
            /* Glow effect */
        }

        .line-left::before {
            top: -200px;
            animation: lineScan 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }

        .line-right::before {
            bottom: -200px;
            animation: lineScanReverse 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
            animation-delay: 2s;
            /* Offset by half duration for perfect alternation */
        }

        @keyframes lineScan {
            0% {
                top: -200px;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        @keyframes lineScanReverse {
            0% {
                bottom: -200px;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                bottom: 100%;
                opacity: 0;
            }
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(10, 15, 28, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            transition: all 0.3s;
        }

        .header.scrolled {
            background: rgba(10, 15, 28, 0.98);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .header-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 8px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo img {
            height: 60px;
            width: auto;
            transition: transform 0.3s;
        }

        .logo:hover img {
            transform: scale(1.05);
        }

        .header-cta {
            background: linear-gradient(135deg, var(--primary), var(--danger));
            color: white;
            padding: 12px 28px;
            border-radius: 10px;
            font-weight: 700;
            text-decoration: none;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(249, 115, 22, 0.3);
        }

        .header-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(249, 115, 22, 0.4);
        }

        .scroll-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--danger));
            width: 0%;
            transition: width 0.1s;
        }

        section {
            position: relative;
            z-index: 2;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .section-header::before {
            content: '';
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: headerLine 2s ease-in-out infinite;
        }

        @keyframes headerLine {

            0%,
            100% {
                width: 80px;
                opacity: 0.5;
            }

            50% {
                width: 150px;
                opacity: 1;
            }
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(249, 115, 22, 0.08);
            border: 1px solid rgba(249, 115, 22, 0.25);
            padding: 10px 24px;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 20px;
            animation: badgeFloat 3s ease-in-out infinite;
        }

        .badge.green {
            background: rgba(37, 211, 102, 0.08);
            border-color: rgba(37, 211, 102, 0.25);
            color: var(--whatsapp);
        }

        @keyframes badgeFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .pulse-dot {
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            position: relative;
        }

        .pulse-dot::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 2px solid var(--primary);
            animation: pulseRing 1.5s ease-out infinite;
        }

        @keyframes pulseRing {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        .section-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            letter-spacing: 3px;
            line-height: 1.05;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--text) 0%, var(--primary) 50%, var(--danger) 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 5s ease infinite;
        }

        @keyframes gradientShift {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        .section-sub {
            font-size: 1.1rem;
            color: var(--muted);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 140px 40px 100px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(249, 115, 22, 0.08) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            animation: heroPulse 8s ease-in-out infinite;
        }

        @keyframes heroPulse {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.5;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        .hero-content {
            max-width: 900px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .hero-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2rem, 7vw, 5rem);
            letter-spacing: 3px;
            line-height: 1.1;
            margin-bottom: 24px;
        }

        .hero-title .hl {
            color: var(--primary);
            position: relative;
        }

        .hero-title .hl::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
            transform: scaleX(0);
            animation: underline 1s ease forwards 1s;
        }

        @keyframes underline {
            to {
                transform: scaleX(1);
            }
        }

        .hero-sub {
            font-size: 1.2rem;
            color: var(--muted);
            max-width: 700px;
            margin: 0 auto 40px;
            line-height: 1.8;
        }

        .hero-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            max-width: 700px;
            margin: 0 auto 50px;
            perspective: 1000px;
            /* Enable 3D space */
        }

        @media (max-width: 640px) {
            .hero-features {
                grid-template-columns: 1fr;
            }

            .hero-title {
                font-size: 2.2rem;
            }

            .hero-sub {
                font-size: 1rem;
            }
        }

        .hero-feat {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 16px;
            border: 1px solid var(--border);
            text-align: left;
            transition: transform 0.1s ease-out, box-shadow 0.3s ease;
            /* Fast transform for tilt */
            transform-style: preserve-3d;
            position: relative;
            overflow: hidden;
        }

        /* Glow Effect Layer */
        .hero-feat::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(249, 115, 22, 0.15), transparent 60%);
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 0;
        }

        .hero-feat:hover::before {
            opacity: 1;
        }

        /* Border Glow */
        .hero-feat::after {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 16px;
            background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(249, 115, 22, 0.4), transparent 40%);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: -1;
        }

        .hero-feat:hover::after {
            opacity: 1;
        }

        .hero-feat:hover {
            border-color: rgba(249, 115, 22, 0.3);
            /* Transform handled by JS */
        }

        .hero-feat-icon {
            font-size: 1.5rem;
            width: 50px;
            height: 50px;
            background: rgba(249, 115, 22, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transform: translateZ(20px);
            /* Pop out icon */
            position: relative;
            z-index: 1;
        }

        .hero-feat-text {
            transform: translateZ(10px);
            /* Pop out text slightly */
            position: relative;
            z-index: 1;
        }

        .hero-feat-text strong {
            display: block;
            font-size: 1rem;
            color: white;
            margin-bottom: 4px;
        }

        .hero-feat-text span {
            font-size: 0.85rem;
            color: var(--muted);
            line-height: 1.5;
        }

        .hero-btns {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--danger));
            color: white;
            padding: 18px 40px;
            border-radius: 14px;
            font-weight: 700;
            text-decoration: none;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            cursor: pointer;
            box-shadow: 0 10px 40px rgba(249, 115, 22, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 50px rgba(249, 115, 22, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text);
            padding: 18px 40px;
            border-radius: 14px;
            font-weight: 600;
            text-decoration: none;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            border: 2px solid var(--border);
            transition: all 0.4s;
            cursor: pointer;
        }

        .btn-secondary:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
        }

        .hero-stats {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .hero-stat {
            padding: 16px 28px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            border-radius: 50px;
            font-size: 0.9rem;
            color: var(--muted);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .hero-stat::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .hero-stat:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .hero-stat:hover::before {
            opacity: 1;
        }

        .hero-stat strong {
            color: var(--primary);
            margin-right: 8px;
            font-size: 1.1rem;
        }



        .calc-section {
            padding: 120px 0;
            background: linear-gradient(180deg, var(--bg), var(--bg2));
        }

        .calc-layout {
            display: grid;
            grid-template-columns: 1fr 440px;
            /* Reduced right column slightly for better balance on 1200px screens */
            gap: 60px;
            align-items: start;
        }

        .calc-inputs {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 28px;
            padding: 40px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .calc-inputs::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--danger));
        }

        .calc-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 36px;
            background: rgba(0, 0, 0, 0.3);
            padding: 8px;
            border-radius: 16px;
        }

        .calc-tab {
            flex: 1;
            padding: 16px 20px;
            background: transparent;
            border: none;
            border-radius: 12px;
            color: var(--muted);
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: inherit;
            position: relative;
            overflow: hidden;
        }

        .calc-tab::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--primary), var(--danger));
            opacity: 0;
            transition: opacity 0.3s;
            border-radius: 12px;
        }

        .calc-tab.active {
            color: white;
        }

        .calc-tab.active::before {
            opacity: 1;
        }

        .calc-tab span {
            position: relative;
            z-index: 1;
        }

        .calc-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
        }

        .calc-panel {
            display: none;
            opacity: 0;
        }

        .calc-panel.active {
            display: block;
            animation: panelIn 0.5s ease forwards;
        }

        @keyframes panelIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .form-group {
            margin-bottom: 28px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 0.95rem;
            color: var(--text);
        }

        .form-input,
        .form-select {
            width: 100%;
            padding: 16px 20px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 14px;
            color: var(--text);
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.15), 0 0 20px rgba(249, 115, 22, 0.1);
        }

        .form-select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
        }

        .slider-wrap {
            position: relative;
            padding-top: 35px;
        }

        .slider-val {
            position: absolute;
            right: 0;
            top: 0;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
            color: var(--primary);
            font-size: 1.3rem;
            padding: 4px 12px;
            background: rgba(249, 115, 22, 0.1);
            border-radius: 8px;
        }

        .slider {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            -webkit-appearance: none;
            appearance: none;
            cursor: pointer;
            position: relative;
            margin: 0;
            padding: 0;
            outline: none;
        }



        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--danger));
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(249, 115, 22, 0.5);
            transition: all 0.2s;
            border: 3px solid white;
            position: relative;
            z-index: 10;
        }

        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 25px rgba(249, 115, 22, 0.6);
        }

        .slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--danger));
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(249, 115, 22, 0.5);
            transition: all 0.2s;
            border: 3px solid white;
            position: relative;
            z-index: 10;
        }

        .slider::-moz-range-thumb:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 25px rgba(249, 115, 22, 0.6);
        }

        .form-helper {
            font-size: 0.8rem;
            color: var(--muted);
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .turnos-impact {
            margin-top: 16px;
            padding: 18px 20px;
            background: rgba(249, 115, 22, 0.1);
            border-radius: 14px;
            border-left: 4px solid var(--primary);
            transition: all 0.4s;
        }

        .turnos-impact strong {
            color: var(--primary);
            font-size: 0.9rem;
            display: block;
            margin-bottom: 6px;
        }

        .turnos-impact-text {
            color: var(--muted);
            font-size: 0.85rem;
            line-height: 1.5;
        }

        /* Dashboard dinámico */
        .calc-dashboard {
            margin-top: 40px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            border: 1px solid var(--border);
        }

        .dashboard-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            letter-spacing: 2px;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .dashboard-metric {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 18px;
            transition: all 0.3s;
        }

        .dashboard-metric:hover {
            background: rgba(249, 115, 22, 0.05);
            border-color: rgba(249, 115, 22, 0.3);
            transform: translateY(-2px);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .metric-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .metric-subtext {
            font-size: 0.7rem;
            color: var(--muted);
            margin-top: 4px;
        }

        .dashboard-insight {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.25);
            border-radius: 14px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .insight-icon {
            width: 40px;
            height: 40px;
            background: rgba(239, 68, 68, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .insight-text {
            font-size: 0.85rem;
            color: var(--muted);
            line-height: 1.5;
        }

        .insight-text strong {
            color: var(--danger);
            font-weight: 700;
        }

        .calc-results {
            position: sticky;
            top: 100px;
        }

        .results-main {
            background: linear-gradient(135deg, var(--danger), var(--danger-dark));
            border-radius: 28px;
            padding: 40px;
            text-align: center;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(239, 68, 68, 0.3);
        }

        .results-main::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            animation: shimmer 4s linear infinite;
        }

        @keyframes shimmer {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .results-main-label {
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 12px;
            position: relative;
        }

        .results-main-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 5rem;
            color: white;
            line-height: 1;
            margin-bottom: 12px;
            position: relative;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .results-main-annual {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.85);
            position: relative;
        }

        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            /* Rigid 2-column layout */
            gap: 16px;
            margin-bottom: 24px;
        }

        .result-card {
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 120px;
            /* Force minimum height for box stability */
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 24px 16px;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @media (max-width: 1024px) {
            .calc-layout {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .results-grid {
                grid-template-columns: repeat(2, 1fr);
                /* Keep 2x2 on tablets */
            }

            .calc-results {
                position: static;
            }
        }

        @media (max-width: 640px) {
            .calc-inputs {
                padding: 32px 20px;
                /* Increased padding */
            }

            .results-main-value {
                font-size: 2.5rem;
            }

            .results-main-label {
                font-size: 0.7rem;
            }

            .results-main {
                padding: 40px 24px;
                /* Increased padding */
            }

            .result-card {
                padding: 20px 10px;
                /* Better fit for mobile */
            }

            .calc-tab {
                padding: 14px 10px;
                font-size: 0.8rem;
            }
        }

        .result-card:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-5px);
            border-color: rgba(249, 115, 22, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .result-card-label {
            font-size: 0.8rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .result-card-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            color: var(--primary);
            margin: 8px 0;
        }

        .result-card-sub {
            font-size: 0.75rem;
            color: var(--muted);
        }

        .crisis-gauge {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 24px;
            border: 1px solid var(--border);
        }

        .crisis-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .crisis-title {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text);
        }

        .ahorro-box {
            text-align: right;
        }

        .ahorro-title {
            font-size: 0.75rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .ahorro-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.2rem;
            color: var(--success);
            line-height: 1.2;
        }

        .ahorro-sub {
            font-size: 0.75rem;
            color: var(--muted);
        }

        .gauge-wrap {
            position: relative;
            padding: 20px 0;
        }

        .gauge-svg {
            width: 100%;
            max-width: 220px;
            display: block;
            margin: 0 auto;
        }

        .gauge-bg {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 18;
            stroke-linecap: round;
        }

        .gauge-progress {
            fill: none;
            stroke-width: 18;
            stroke-linecap: round;
            transition: stroke-dashoffset 1s ease, stroke 0.5s ease;
        }

        .gauge-needle {
            fill: white;
            transform-origin: 110px 110px;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .gauge-center {
            fill: var(--bg);
            stroke: white;
            stroke-width: 3;
        }

        .crisis-level {
            text-align: center;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.8rem;
            letter-spacing: 3px;
            margin-top: 15px;
            transition: color 0.5s ease;
        }

        .insights-box {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .insight-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 0;
            border-bottom: 1px solid var(--border);
        }

        .insight-item:last-child {
            border-bottom: none;
        }

        .insight-icon {
            font-size: 1.3rem;
            width: 45px;
            height: 45px;
            background: rgba(249, 115, 22, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .insight-item span {
            font-size: 0.9rem;
            color: var(--muted);
        }

        .insight-item strong {
            color: var(--primary);
        }

        .turnos-comp {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid var(--border);
        }

        .turnos-comp-title {
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .turno-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .turno-row:last-child {
            border-bottom: none;
        }

        .turno-val {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
            font-size: 0.95rem;
        }

        .turno-val.green {
            color: var(--success);
        }

        .turno-val.yellow {
            color: var(--warning);
        }

        .turno-val.red {
            color: var(--danger);
        }

        .hemorragia-cta {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05));
            border: 2px solid rgba(239, 68, 68, 0.4);
            border-radius: 24px;
            padding: 32px;
            text-align: center;
            animation: borderPulse 2s ease-in-out infinite;
        }

        @keyframes borderPulse {

            0%,
            100% {
                border-color: rgba(239, 68, 68, 0.4);
            }

            50% {
                border-color: rgba(239, 68, 68, 0.8);
            }
        }

        .hemorragia-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.8rem;
            color: var(--danger);
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        .hemorragia-text {
            color: var(--muted);
            font-size: 0.95rem;
            margin-bottom: 24px;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), var(--danger-dark));
            color: white;
            padding: 16px 32px;
            border-radius: 12px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.4s;
            box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
            display: block;
            width: 100%;
            margin-bottom: 12px;
            font-family: inherit;
        }

        .btn-danger:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(239, 68, 68, 0.4);
        }

        .btn-dark {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            padding: 16px 32px;
            border-radius: 12px;
            font-weight: 600;
            border: 1px solid var(--border);
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            display: block;
            width: 100%;
            font-family: inherit;
        }

        .btn-dark:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary);
        }

        .btn-dark:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary);
        }

        /* === CÓDIGO TIMELINE PROFESIONAL (CLONACIÓN 1:1 ORIGINAL) === */
        :root {
            --tp-color-bg: #0a0f1c;
            --tp-color-bg-secondary: #111827;
            --tp-color-primary: #f97316;
            --tp-color-danger: #ef4444;
            --tp-color-warning: #eab308;
            --tp-color-success: #22c55e;
            --tp-color-purple: #a855f7;
            --tp-color-text: #f8fafc;
            --tp-color-text-muted: #94a3b8;
            --tp-color-line: #1e293b;
        }

        .prof-section {
            position: relative;
            background: var(--tp-color-bg);
            padding: 120px 0;
            overflow: hidden;
            font-family: 'Plus Jakarta Sans', sans-serif;
            color: var(--tp-color-text);
        }




        /* Partículas y Grid Originales */
        .bg-particles-new {
            position: absolute;
            inset: 0;
            pointer-events: none !important;
            z-index: 0;
        }

        .grid-bg-new {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(rgba(249, 115, 22, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(249, 115, 22, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            z-index: 0;
            pointer-events: none;
            animation: tp-grid-pulse 4s ease-in-out infinite;
        }

        @keyframes tp-grid-pulse {

            0%,
            100% {
                opacity: 0.4;
            }

            50% {
                opacity: 0.8;
            }
        }

        .prof-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }

        /* Removed individual tp-badge, tp-title, tp-header styles as they are now global */

        @keyframes tp-g-shift {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        /* Timeline Items Originales */
        .tp-timeline {
            position: relative;
            padding: 60px 0;
        }

        .tp-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, transparent, var(--tp-color-line) 5%, var(--tp-color-line) 95%, transparent);
            transform: translateX(-50%);
            overflow: hidden;
        }

        .tp-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(180deg, var(--tp-color-primary), var(--tp-color-danger), transparent);
            animation: tp-line-flow 2.5s linear infinite;
        }

        @keyframes tp-line-flow {
            0% {
                top: -150px;
            }

            100% {
                top: 100%;
            }
        }

        .tp-item {
            position: relative;
            display: flex;
            align-items: center;
            margin-bottom: 120px;
        }

        .tp-item:nth-child(odd) {
            flex-direction: row;
        }

        .tp-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        .tp-content {
            width: 42%;
            position: relative;
            perspective: 1000px;
            /* Enable 3D tilt */
        }

        .tp-item:nth-child(odd) .tp-content {
            text-align: right;
            padding-right: 70px;
        }

        .tp-item:nth-child(even) .tp-content {
            text-align: left;
            padding-left: 70px;
        }

        /* Card 3D Original */
        .tp-card {
            background: linear-gradient(165deg, rgba(17, 24, 39, 0.95), rgba(10, 15, 28, 0.98));
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 24px;
            padding: 35px;
            position: relative;
            transition: transform 0.5s ease-out, box-shadow 0.5s ease, border-color 0.3s ease;
            /* Smooth transform */
            backdrop-filter: blur(20px);
            transform-style: preserve-3d !important;
            perspective: 1000px;
            pointer-events: auto !important;
            cursor: pointer;
            overflow: hidden;
        }

        .tp-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--tp-accent), transparent);
            opacity: 0.8;
            z-index: 2;
        }

        /* Orange Glow Effect - follows cursor */
        .tp-card::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(249, 115, 22, 0.2), transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1;
        }

        .tp-card:hover::after {
            opacity: 1;
        }

        .tp-card:hover {
            border-color: rgba(249, 115, 22, 0.3);
            box-shadow: 0 20px 60px rgba(249, 115, 22, 0.15);
        }

        .tp-card-step {
            font-family: 'JetBrains Mono';
            font-size: 0.7rem;
            letter-spacing: 4px;
            color: var(--tp-accent);
            margin-bottom: 10px;
            display: block;
            transform: translateZ(40px);
        }

        .tp-card-title {
            font-family: 'Bebas Neue';
            font-size: 2.2rem;
            letter-spacing: 3px;
            color: white;
            margin-bottom: 14px;
            transform: translateZ(60px);
            text-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .tp-card-desc {
            font-size: 0.95rem;
            color: var(--tp-color-text-muted);
            line-height: 1.75;
            margin-bottom: 24px;
            transform: translateZ(30px);
        }

        /* Nodo Central Premium */
        .tp-node {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tp-node-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: 0.4s;
            z-index: 2;
            cursor: pointer;
            animation: tp-node-pulse 2s infinite ease-in-out;
        }

        .tp-node-circle svg {
            width: 36px;
            height: 36px;
            z-index: 2;
        }

        .tp-node-orbit {
            position: absolute;
            inset: -8px;
            border-radius: 50%;
            border: 1px dashed rgba(249, 115, 22, 0.4);
            animation: tp-spin 10s linear infinite;
        }

        @keyframes tp-spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        /* Sistema de Partículas Orbitantes */
        .tp-orbiter {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #fff;
            border-radius: 50%;
            opacity: 0.8;
            pointer-events: none;
            z-index: 1;
            box-shadow: 0 0 10px #fff, 0 0 20px var(--tp-color-primary);
        }

        @keyframes tp-orbit {
            from {
                transform: rotate(0deg) translateX(45px) rotate(0deg);
            }

            to {
                transform: rotate(360deg) translateX(45px) rotate(-360deg);
            }
        }

        @keyframes tp-node-pulse {

            0%,
            100% {
                transform: scale(1);
                box-shadow: 0 0 20px rgba(249, 115, 22, 0.2);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 0 40px rgba(249, 115, 22, 0.4);
            }
        }

        /* Colores Nodos */
        .node-warning .tp-node-circle {
            background: linear-gradient(145deg, #fbbf24, #d97706);
            color: #78350f;
        }

        .node-warning .tp-card {
            --tp-accent: #fbbf24;
        }

        .node-search .tp-node-circle {
            background: linear-gradient(145deg, #a855f7, #7c3aed);
            color: #2e1065;
        }

        .node-search .tp-card {
            --tp-accent: #a855f7;
        }

        .node-bottleneck .tp-node-circle {
            background: linear-gradient(145deg, #f97316, #ea580c);
            color: #431407;
        }

        .node-bottleneck .tp-card {
            --tp-accent: #f97316;
        }

        .node-paralysis .tp-node-circle {
            background: linear-gradient(145deg, #ef4444, #dc2626);
            color: #450a0a;
            animation: tp-danger-p 1s infinite;
        }

        @keyframes tp-danger-p {

            0%,
            100% {
                box-shadow: 0 0 40px rgba(239, 68, 68, 0.4);
            }

            50% {
                box-shadow: 0 0 60px rgba(239, 68, 68, 0.6);
            }
        }

        .node-paralysis .tp-card {
            --tp-accent: #ef4444;
        }

        /* Ilustraciones Originales Complejas */
        .tp-visual {
            width: 42%;
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        .tp-illu-box {
            width: 220px;
            height: 220px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Scene 1: Worker */
        .tp-worker-scene {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .tp-worker-head {
            width: 45px;
            height: 45px;
            background: linear-gradient(145deg, #fcd34d, #f59e0b);
            border-radius: 50%;
            margin: 0 auto 8px;
            animation: tp-head-tilt 2s infinite;
        }

        @keyframes tp-head-tilt {

            0%,
            100% {
                transform: rotate(-5deg);
            }

            50% {
                transform: rotate(5deg);
            }
        }

        .tp-worker-body {
            width: 55px;
            height: 65px;
            background: linear-gradient(145deg, #3b82f6, #1d4ed8);
            border-radius: 12px 12px 8px 8px;
            margin: 0 auto;
        }

        .tp-q-marks span {
            position: absolute;
            font-family: 'Bebas Neue';
            color: #fbbf24;
            font-size: 2rem;
            opacity: 0;
            animation: tp-q-float 3s infinite;
        }

        @keyframes tp-q-float {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }

            20% {
                opacity: 1;
            }

            80% {
                opacity: 1;
            }

            100% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        /* Scene 2: Search */
        .tp-search-scene {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .tp-factory {
            width: 120px;
            height: 80px;
            background: #334155;
            border-radius: 8px;
            position: absolute;
            bottom: 40px;
            left: 20px;
        }

        .tp-walking {
            position: absolute;
            bottom: 40px;
            right: 20px;
            animation: tp-walk 1.5s infinite linear;
        }

        @keyframes tp-walk {
            0% {
                right: 20px;
            }

            100% {
                right: 150px;
            }
        }

        /* Scene 3: Bottleneck */
        .tp-funnel {
            width: 100px;
            height: 120px;
            margin: 0 auto;
            position: relative;
            background: rgba(249, 115, 22, 0.1);
            border: 2px solid var(--tp-color-primary);
            clip-path: polygon(0 0, 100% 0, 70% 100%, 30% 100%);
        }

        .tp-queue-dot {
            width: 15px;
            height: 15px;
            background: var(--tp-color-primary);
            border-radius: 50%;
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            animation: tp-queue-move 1.5s infinite;
        }

        @keyframes tp-queue-move {
            0% {
                top: 10px;
                opacity: 0;
            }

            50% {
                opacity: 1;
            }

            100% {
                top: 90px;
                opacity: 0;
            }
        }

        /* Scene 4: Paralysis */
        .tp-money-burn {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .tp-bill {
            width: 70px;
            height: 35px;
            background: #22c55e;
            border: 2px solid #14532d;
            border-radius: 4px;
            position: relative;
            animation: tp-bill-shake 0.3s infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #14532d;
            font-weight: 900;
            font-family: 'JetBrains Mono';
            font-size: 1.2rem;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
        }

        @keyframes tp-bill-shake {

            0%,
            100% {
                transform: rotate(-1deg);
            }

            50% {
                transform: rotate(1deg);
            }
        }

        .tp-flame {
            position: absolute;
            bottom: -15px;
            width: 10px;
            height: 20px;
            background: linear-gradient(0deg, #f97316, #fbbf24, transparent);
            border-radius: 50% 50% 0 0;
            animation: tp-flame-d 0.3s infinite alternate;
        }

        @keyframes tp-flame-d {
            0% {
                transform: scaleY(1);
            }

            100% {
                transform: scaleY(1.3);
            }
        }

        /* CTA Original Estilo */
        .tp-cta {
            text-align: center;
            margin-top: 100px;
            padding: 70px 50px;
            background: linear-gradient(165deg, rgba(239, 68, 68, 0.08), rgba(249, 115, 22, 0.04), rgba(10, 15, 28, 0.95));
            border-radius: 32px;
            border: 1px solid rgba(239, 68, 68, 0.15);
        }

        .tp-stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            margin-top: 50px;
        }

        .tp-stat-card {
            background: rgba(255, 255, 255, 0.02);
            padding: 25px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .tp-stat-val {
            font-family: 'Bebas Neue';
            font-size: 3.5rem;
            background: linear-gradient(135deg, var(--tp-color-primary), var(--tp-color-danger));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            display: block;
        }

        .tp-stat-lab {
            font-size: 0.8rem;
            color: var(--tp-color-text-muted);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        @media (max-width: 900px) {
            .tp-item {
                flex-direction: column !important;
                text-align: center !important;
            }

            .tp-content,
            .tp-visual {
                width: 100% !important;
                padding: 20px !important;
            }

            .tp-line {
                left: 20px;
            }

            .tp-node {
                left: 20px;
                transform: none;
            }

            .tp-stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .cta-adv {
            text-align: center;
            margin-top: 100px;
            padding: 80px 40px;
            background: linear-gradient(165deg, rgba(249, 115, 22, 0.05), #0a0f1c);
            border-radius: 32px;
            border: 1px solid rgba(249, 115, 22, 0.1);
        }

        .btn-adv {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: #f97316;
            color: white;
            padding: 20px 45px;
            border-radius: 60px;
            font-weight: 700;
            text-decoration: none;
            transition: 0.4s;
        }

        .btn-adv:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(249, 115, 22, 0.5);
        }

        .stats-adv {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
            margin-top: 40px;
        }

        .stat-card-adv {
            padding: 32px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            min-width: 250px;
        }

        .stat-num-adv {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3.2rem;
            color: #f97316;
        }

        @media (max-width: 768px) {
            .timeline-line-central {
                left: 30px;
            }

            .item-adv {
                flex-direction: column !important;
                padding-left: 70px;
                margin-bottom: 100px;
            }

            .card-adv,
            .visual-adv {
                width: 100%;
            }

            .timeline-node-adv {
                left: 30px;
            }

            .item-adv:nth-child(odd) .card-adv,
            .item-adv:nth-child(even) .card-adv {
                text-align: left;
            }
        }

        @keyframes tp-head-tilt {

            0%,
            100% {
                transform: rotate(-5deg);
            }

            50% {
                transform: rotate(5deg);
            }
        }

        .worker-body {
            width: 55px;
            height: 65px;
            background: linear-gradient(145deg, #3b82f6, #1d4ed8);
            border-radius: 12px 12px 8px 8px;
            position: relative;
        }

        .machine-stopped {
            position: absolute;
            bottom: 30px;
            left: 20px;
            width: 50px;
            height: 60px;
            background: linear-gradient(145deg, #374151, #1f2937);
            border-radius: 8px;
        }

        .question-bubbles {
            position: absolute;
            top: 10px;
            right: 30px;
        }

        .question-mark {
            position: absolute;
            font-family: 'Bebas Neue', sans-serif;
            color: #fbbf24;
            font-weight: bold;
            opacity: 0;
            animation: floatQuestion 3s ease-in-out infinite;
        }

        @keyframes floatQuestion {
            0% {
                opacity: 0;
                transform: translateY(10px) scale(0.8);
            }

            20% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            80% {
                opacity: 1;
                transform: translateY(-10px) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateY(-20px) scale(0.8);
            }
        }

        /* ESCENA 2: La Búsqueda */
        .search-scene {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .factory-building {
            position: absolute;
            left: 15px;
            bottom: 30px;
            width: 70px;
            height: 90px;
            background: linear-gradient(145deg, #4c1d95, #5b21b6);
            border-radius: 8px 8px 0 0;
        }

        .search-path {
            position: absolute;
            bottom: 50px;
            left: 90px;
            width: 80px;
            height: 3px;
            overflow: hidden;
        }

        .path-dots {
            display: flex;
            gap: 8px;
            animation: pathMove 1s linear infinite;
        }

        .path-dot {
            width: 6px;
            height: 3px;
            background: rgba(168, 85, 247, 0.6);
            border-radius: 2px;
            flex-shrink: 0;
        }

        @keyframes pathMove {
            0% {
                transform: translateX(-14px);
            }

            100% {
                transform: translateX(0);
            }
        }

        .walking-worker {
            position: absolute;
            right: 25px;
            bottom: 35px;
            animation: walkBounce 0.4s ease-in-out infinite;
        }

        @keyframes walkBounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .legs {
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .leg {
            width: 6px;
            height: 18px;
            background: #1e3a8a;
            border-radius: 3px;
            animation: legMove 0.4s ease-in-out infinite;
        }

        .leg:last-child {
            animation-direction: reverse;
        }

        @keyframes legMove {

            0%,
            100% {
                transform: rotate(-15deg);
            }

            50% {
                transform: rotate(15deg);
            }
        }

        /* ESCENA 3: Cuello de Botella */
        .bottleneck-scene {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .funnel-shape {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 160px;
            height: 150px;
        }

        .funnel-top {
            width: 100%;
            height: 50px;
            background: linear-gradient(180deg, rgba(249, 115, 22, 0.15), rgba(249, 115, 22, 0.05));
            border: 1px solid rgba(249, 115, 22, 0.2);
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }

        .queue-dot {
            width: 28px;
            height: 28px;
            background: linear-gradient(145deg, #64748b, #475569);
            border-radius: 50%;
            animation: queueWait 1.5s ease-in-out infinite;
        }

        @keyframes queueWait {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-4px);
            }
        }

        .funnel-neck {
            width: 50px;
            height: 60px;
            margin: 0 auto;
            background: linear-gradient(180deg, rgba(249, 115, 22, 0.1), rgba(249, 115, 22, 0.2));
            clip-path: polygon(0 0, 100% 0, 85% 100%, 15% 100%);
            position: relative;
        }

        .passing-dot {
            width: 20px;
            height: 20px;
            background: linear-gradient(145deg, #22c55e, #16a34a);
            border-radius: 50%;
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            animation: passThrough 2.5s ease-in-out infinite;
        }

        @keyframes passThrough {

            0%,
            30% {
                opacity: 0;
                transform: translateX(-50%) translateY(-30px);
            }

            40%,
            70% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateX(-50%) translateY(30px);
            }
        }

        /* ESCENA 4: La Parálisis */
        .paralysis-scene {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .smoke-particles {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .smoke {
            position: absolute;
            width: 15px;
            height: 15px;
            background: rgba(100, 116, 139, 0.3);
            border-radius: 50%;
            animation: smokeRise 3s ease-out infinite;
        }

        @keyframes smokeRise {
            0% {
                transform: translateY(60px) scale(0.5);
                opacity: 0;
            }

            20% {
                opacity: 0.4;
            }

            100% {
                transform: translateY(-30px) scale(1.5);
                opacity: 0;
            }
        }

        .bill-stack {
            position: relative;
            width: 80px;
            height: 50px;
            margin: 0 auto;
        }

        .bill {
            position: absolute;
            width: 80px;
            height: 40px;
            background: linear-gradient(145deg, #22c55e, #15803d);
            border-radius: 6px;
            border: 2px solid #14532d;
            animation: billShake 0.3s ease-in-out infinite;
        }

        @keyframes billShake {

            0%,
            100% {
                transform: rotate(-1deg);
            }

            50% {
                transform: rotate(1deg);
            }
        }

        .loss-display-prof {
            margin-top: 50px;
            font-family: 'JetBrains Mono', monospace;
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.3);
            padding: 10px 20px;
            border-radius: 10px;
            color: #ef4444;
            font-weight: 700;
            font-size: 1.2rem;
        }

        /* 3D Content Cards */
        .timeline-card {
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .time-display-prof {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: rgba(0, 0, 0, 0.4);
            padding: 12px 20px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            margin-top: 20px;
        }

        .time-value-prof {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }



        .flame {
            width: 12px;
            height: 30px;
            background: linear-gradient(to top, #ef4444, #f97316, #fbbf24);
            border-radius: 50% 50% 20% 20%;
            animation: flicker 0.3s ease-in-out infinite alternate;
        }

        .flame:nth-child(2) {
            animation-delay: 0.1s;
            height: 35px;
        }

        .flame:nth-child(3) {
            animation-delay: 0.2s;
            height: 25px;
        }

        @keyframes flicker {
            0% {
                transform: scaleY(1) scaleX(1);
            }

            100% {
                transform: scaleY(1.1) scaleX(0.9);
            }
        }

        .loss-counter {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            color: var(--danger);
            font-weight: 700;
        }

        .losses-section {
            padding: 100px 0;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            position: relative;
            overflow: hidden;
        }

        .losses-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--danger), transparent);
        }

        .losses-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            text-align: center;
        }

        .losses-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            color: var(--danger);
            margin-bottom: 60px;
            letter-spacing: 2px;
            text-shadow: 0 0 40px rgba(239, 68, 68, 0.3);
        }

        .losses-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }

        .loss-card {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 50px 40px;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .loss-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--danger);
            transform: scaleX(0);
            transition: transform 0.5s;
        }

        .loss-card:hover {
            transform: translateY(-10px);
            border-color: var(--danger);
            box-shadow: 0 30px 60px rgba(239, 68, 68, 0.2);
        }

        .loss-card:hover::before {
            transform: scaleX(1);
        }

        .loss-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 5rem;
            color: var(--danger);
            line-height: 1;
            margin-bottom: 16px;
            text-shadow: 0 0 30px rgba(239, 68, 68, 0.4);
        }

        .loss-label {
            color: var(--muted);
            font-size: 1rem;
            line-height: 1.5;
        }

        /* =====================================================
           WHATSAPP DEMO REPLICA SECTION STYLES
           ===================================================== */
        .wa-demo-section-replica {
            position: relative;
            background: var(--wa-darker);
            padding: 120px 0;
            overflow: hidden;
            font-family: 'Plus Jakarta Sans', sans-serif;
            color: var(--color-text);
        }

        .wa-bg-particles {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }

        .wa-particle {
            position: absolute;
            background: var(--wa-green);
            border-radius: 50%;
            opacity: 0.2;
            animation: wa-float-particle 20s infinite ease-in-out;
        }

        @keyframes wa-float-particle {

            0%,
            100% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.2;
            }

            90% {
                opacity: 0.2;
            }

            100% {
                transform: translateY(-100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .wa-grid-bg {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(37, 211, 102, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(37, 211, 102, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            z-index: 0;
            animation: wa-grid-pulse 4s ease-in-out infinite;
        }

        @keyframes wa-grid-pulse {

            0%,
            100% {
                opacity: 0.4;
            }

            50% {
                opacity: 0.8;
            }
        }

        /* =====================================================
           UNIFIED CONTINUOUS LINE STYLES
           ===================================================== */
        .wa-continuous-block {
            position: relative;
        }

        .wa-flow-line-left,
        .wa-flow-line-right {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 3px;
            background: rgba(249, 115, 22, 0.1);
            z-index: 5;
        }

        .wa-flow-line-left {
            left: 30px;
        }

        .wa-flow-line-right {
            right: 30px;
        }

        .wa-flow-line-left::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 350px;
            background: linear-gradient(180deg, var(--primary), #ef4444, transparent);
            animation: global-flow-down 8s linear infinite;
            border-radius: 2px;
        }

        .wa-flow-line-right::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 350px;
            background: linear-gradient(0deg, var(--primary), #ef4444, transparent);
            animation: global-flow-up 8s linear infinite;
            border-radius: 2px;
        }

        @keyframes global-flow-down {
            0% {
                top: -350px;
            }

            100% {
                top: 100%;
            }
        }

        @keyframes global-flow-up {
            0% {
                bottom: -350px;
            }

            100% {
                bottom: 100%;
            }
        }

        /* Remove old line styles */
        .wa-animated-line-left,
        .wa-animated-line-right,
        .features-line-left,
        .features-line-right,
        .pricing-line-left,
        .pricing-line-right,
        .contact-line-left,
        .contact-line-right {
            display: none !important;
        }

        .wa-bg-circle {
            position: absolute;
            border-radius: 50%;
            border: 1px solid rgba(37, 211, 102, 0.05);
            pointer-events: none;
            z-index: 0;
        }

        .wa-bg-circle-1 {
            width: 500px;
            height: 500px;
            top: -250px;
            left: -250px;
            animation: wa-rotate 25s linear infinite;
        }

        .wa-bg-circle-2 {
            width: 400px;
            height: 400px;
            bottom: -200px;
            right: -200px;
            animation: wa-rotate 20s linear infinite reverse;
        }

        .wa-bg-circle-3 {
            width: 300px;
            height: 300px;
            top: 50%;
            left: 10%;
            transform: translateY(-50%);
            animation: wa-rotate 30s linear infinite;
        }

        @keyframes wa-rotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .wa-container-demo {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            position: relative;
            z-index: 1;
        }

        .wa-demo-section-content {
            display: grid;
            grid-template-columns: 1fr 400px 1fr;
            gap: 50px;
            align-items: center;
        }

        .wa-content-col {
            display: flex;
            flex-direction: column;
        }

        .wa-content-left {
            text-align: right;
            align-items: flex-end;
        }

        .wa-content-right {
            text-align: left;
            align-items: flex-start;
        }

        .wa-section-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(37, 211, 102, 0.1);
            border: 1px solid rgba(37, 211, 102, 0.3);
            padding: 10px 24px;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--wa-green);
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 24px;
            animation: wa-badge-float 3s ease-in-out infinite;
        }

        @keyframes wa-badge-float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .wa-pulse-dot {
            width: 8px;
            height: 8px;
            background: var(--wa-green);
            border-radius: 50%;
            position: relative;
        }

        .wa-pulse-dot::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 2px solid var(--wa-green);
            animation: wa-pulse-ring 1.5s ease-out infinite;
        }

        @keyframes wa-pulse-ring {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        .wa-main-title-replica {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.2rem, 4vw, 3.8rem);
            letter-spacing: 3px;
            line-height: 1.1;
            margin-bottom: 20px;
            color: white;
        }

        .wa-main-title-replica span {
            background: linear-gradient(135deg, var(--wa-green), var(--wa-light-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .wa-main-description {
            font-size: 1.05rem;
            color: var(--tp-color-text-muted);
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .wa-stats-row-replica {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .wa-stat-box-replica {
            background: rgba(37, 211, 102, 0.08);
            border: 1px solid rgba(37, 211, 102, 0.2);
            border-radius: 16px;
            padding: 18px 22px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .wa-stat-box-replica:hover {
            transform: translateY(-5px);
            border-color: var(--wa-green);
            box-shadow: 0 15px 40px rgba(37, 211, 102, 0.15);
        }

        .wa-stat-value-replica {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.2rem;
            color: var(--wa-green);
            line-height: 1;
        }

        .wa-stat-label-replica {
            font-size: 0.7rem;
            color: var(--tp-color-text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
        }

        .wa-phone-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .wa-iphone-mockup {
            position: relative;
            width: 320px;
            height: 680px;
            background: #1a1a1a;
            border-radius: 50px;
            padding: 12px;
            box-shadow: 0 0 0 3px #2a2a2a, 0 0 0 6px #1a1a1a, 0 50px 100px rgba(0, 0, 0, 0.5), 0 0 100px rgba(37, 211, 102, 0.2);
            animation: wa-phone-float 6s ease-in-out infinite;
        }

        @keyframes wa-phone-float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .wa-dynamic-island {
            position: absolute;
            top: 18px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 35px;
            background: #000;
            border-radius: 20px;
            z-index: 100;
        }

        .wa-phone-screen {
            width: 100%;
            height: 100%;
            background: var(--wa-darker);
            border-radius: 40px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .wa-status-bar {
            height: 50px;
            padding: 15px 25px 0;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
        }

        .wa-status-bar-right {
            display: flex;
            gap: 5px;
        }

        .wa-status-bar-right svg {
            width: 18px;
            height: 18px;
        }

        .wa-header {
            background: var(--wa-header);
            padding: 10px 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .wa-header-back {
            width: 22px;
            height: 22px;
            color: var(--wa-green);
        }

        .wa-header-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            flex-shrink: 0;
            /* overflow: hidden removido para evitar recortar el indicador "en línea" */
        }

        .wa-header-avatar svg {
            width: 24px;
            height: 24px;
            color: white;
        }

        .wa-online-indicator {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 11px;
            height: 11px;
            background: var(--wa-green);
            border-radius: 50%;
            border: 2px solid var(--wa-header);
            animation: wa-online-pulse 2s ease-in-out infinite;
        }

        @keyframes wa-online-pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        .wa-header-info {
            flex: 1;
            min-width: 0;
        }

        .wa-header-name {
            font-size: 0.95rem;
            font-weight: 600;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .wa-header-status {
            font-size: 0.7rem;
            color: var(--wa-green);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .wa-header-status::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--wa-green);
            border-radius: 50%;
        }

        .wa-header-icons {
            display: flex;
            gap: 15px;
        }

        .wa-header-icons svg {
            width: 20px;
            height: 20px;
            color: #aebac1;
        }

        .wa-chat-area {
            flex: 1;
            background: var(--wa-darker);
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            padding: 15px;
            overflow-y: auto;
            scroll-behavior: smooth;
            scrollbar-width: none;
            /* Firefox */
            min-height: 0;
            /* CRITICAL FIX: Allows flex child to shrink below content size */
        }

        .wa-chat-area::-webkit-scrollbar {
            width: 0 !important;
            height: 0 !important;
            background: transparent;
            display: none !important;
        }

        .message {
            max-width: 88%;
            margin-bottom: 20px;
            animation: wa-message-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes wa-message-in {
            from {
                opacity: 0;
                transform: translateY(15px) scale(0.9);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .message-bubble {
            padding: 8px 12px;
            border-radius: 8px;
            position: relative;
            font-size: 0.88rem;
            line-height: 1.45;
        }

        .message-out .message-bubble {
            background: var(--wa-bubble-out);
            color: #e9edef;
            border-top-right-radius: 0;
        }

        .message-in .message-bubble {
            background: var(--wa-bubble-in);
            color: #e9edef;
            border-top-left-radius: 0;
        }

        .message-sender {
            font-size: 0.72rem;
            font-weight: 600;
            margin-bottom: 4px;
            color: #53bdeb;
        }

        .message-in .message-sender {
            color: var(--wa-green);
        }

        .message-time {
            font-size: 0.62rem;
            color: rgba(255, 255, 255, 0.5);
            text-align: right;
            margin-top: 4px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 4px;
        }

        .message-out .message-time svg {
            width: 16px;
            height: 16px;
            color: #53bdeb;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 14px 18px;
            background: var(--wa-bubble-in);
            border-radius: 8px;
            border-top-left-radius: 0;
            width: fit-content;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #8696a0;
            border-radius: 50%;
            animation: wa-typing-bounce 1.4s ease-in-out infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes wa-typing-bounce {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-6px);
            }
        }

        .wa-chat-input-area {
            padding: 15px 30px 20px 15px;
            /* Increased Right padding to push button left */
            /* Safe area for rounded corners */
            background: var(--wa-darker);
            display: flex;
            align-items: center;
            gap: 8px;
            /* Slightly reduced gap to save space */
        }

        .wa-input-icons-left svg {
            width: 24px;
            height: 24px;
            color: #8696a0;
        }

        .wa-chat-input {
            flex: 1;
            background: var(--wa-bubble-in);
            border: none;
            border-radius: 25px;
            padding: 10px 18px;
            color: #e9edef;
            font-size: 0.9rem;
            font-family: inherit;
        }

        .wa-send-button {
            width: 42px;
            height: 42px;
            background: var(--wa-green);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            flex-shrink: 0;
        }

        .wa-send-button svg {
            width: 20px;
            height: 20px;
            color: white;
        }

        .wa-operario-indicator {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(0, 0, 0, 0.6);
            padding: 10px 20px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 0.8rem;
            white-space: nowrap;
            z-index: 10;
        }

        .wa-op-number {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.6rem;
            color: var(--wa-green);
            line-height: 1;
            margin: 0 5px;
        }

        .wa-features-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.6rem;
            letter-spacing: 2px;
            margin-bottom: 25px;
            color: white;
        }

        .wa-feature-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .wa-feature-item {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            padding: 18px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .wa-feature-item:hover {
            background: rgba(37, 211, 102, 0.05);
            border-color: rgba(37, 211, 102, 0.2);
            transform: translateX(5px);
        }

        .wa-feature-icon {
            width: 42px;
            height: 42px;
            background: rgba(37, 211, 102, 0.15);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .wa-feature-icon svg {
            width: 20px;
            height: 20px;
            color: var(--wa-green);
        }

        .wa-feature-content h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 4px;
            color: white;
        }

        .wa-feature-content p {
            font-size: 0.8rem;
            color: var(--tp-color-text-muted);
            line-height: 1.5;
        }

        .wa-response-badge {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--wa-green), var(--wa-light-green));
            padding: 12px 30px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.3);
            z-index: 10;
            white-space: nowrap;
            width: max-content;
        }

        .wa-response-badge svg {
            width: 22px;
            height: 22px;
            color: white;
        }

        .wa-response-badge span {
            color: white;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @media (max-width: 1100px) {
            .wa-demo-section-content {
                grid-template-columns: 1fr;
                gap: 80px;
            }

            .wa-content-col {
                text-align: center !important;
                align-items: center !important;
            }

            .wa-content-right {
                text-align: center !important;
                align-items: center !important;
            }

            .wa-stats-row-replica {
                justify-content: center !important;
            }
        }

        .features-section {
            padding: 120px 0;
            position: relative;
        }

        .features-line-left,
        .features-line-right {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 3px;
            background: rgba(249, 115, 22, 0.1);
            z-index: 1;
        }

        .features-line-left {
            left: 30px;
        }

        .features-line-right {
            right: 30px;
        }

        .features-line-left::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(180deg, var(--primary), #ef4444, transparent);
            animation: pricing-line-flow-down 3s linear infinite;
        }

        .features-line-right::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(0deg, var(--primary), #ef4444, transparent);
            animation: pricing-line-flow-up 3s linear infinite;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 40px 32px;
            text-align: center;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.08), transparent);
            opacity: 0;
            transition: opacity 0.5s;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
            position: relative;
        }

        .feature-card h4 {
            font-size: 1.2rem;
            margin-bottom: 12px;
            position: relative;
        }

        .feature-card p {
            color: var(--muted);
            font-size: 0.95rem;
            line-height: 1.6;
            position: relative;
        }

        .pricing-section {
            padding: 100px 0;
            background: linear-gradient(135deg, #16a34a, var(--success));
            position: relative;
            overflow: hidden;
        }

        .pricing-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .pricing-content {
            max-width: 850px;
            margin: 0 auto;
            padding: 0 40px;
            text-align: center;
            color: white;
            position: relative;
        }

        .pricing-content .badge {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            color: white;
        }

        .pricing-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin: 20px 0 50px;
            letter-spacing: 2px;
        }

        .pricing-badges {
            display: flex;
            gap: 24px;
            justify-content: center;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }

        .pricing-badge {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 28px 36px;
            border-radius: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s;
        }

        .pricing-badge:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .pricing-badge strong {
            display: block;
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .pricing-badge span {
            font-size: 0.9rem;
            opacity: 0.85;
        }

        .pricing-guarantee {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            padding: 36px;
            border-radius: 24px;
            display: flex;
            align-items: center;
            gap: 24px;
            text-align: left;
            margin-bottom: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .pricing-guarantee .emoji {
            font-size: 2.5rem;
        }

        .pricing-guarantee strong {
            display: block;
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .pricing-guarantee p {
            opacity: 0.9;
            font-size: 1rem;
            margin: 0;
            line-height: 1.6;
        }

        .btn-white {
            display: inline-block;
            background: white;
            color: #16a34a;
            padding: 20px 50px;
            border-radius: 14px;
            font-weight: 700;
            text-decoration: none;
            font-size: 1.1rem;
            transition: all 0.4s;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .btn-white:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .contact-section {
            padding: 120px 0;
            background: var(--bg2);
        }

        .form-wrapper {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 32px;
            padding: 50px;
            position: relative;
            overflow: hidden;
        }

        .form-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--danger));
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .contact-form .form-group {
            margin-bottom: 24px;
        }

        .contact-form label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .contact-form label .required {
            color: var(--danger);
        }

        .contact-form textarea {
            width: 100%;
            padding: 16px 20px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 14px;
            color: var(--text);
            font-size: 1rem;
            font-family: inherit;
            min-height: 120px;
            resize: vertical;
            transition: all 0.3s;
        }

        .contact-form .form-input,
        .contact-form .form-select,
        .contact-form textarea {
            width: 100%;
            padding: 16px 20px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 14px;
            color: var(--text);
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s;
        }

        .contact-form .form-input:focus,
        .contact-form .form-select:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(249, 115, 22, 0.4);
            /* Neon Glow */
            background: rgba(249, 115, 22, 0.05);
        }

        .btn-submit {
            width: 100%;
            background: linear-gradient(135deg, var(--primary), var(--danger));
            color: white;
            padding: 20px 24px;
            border-radius: 14px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.4s;
            box-shadow: 0 10px 40px rgba(249, 115, 22, 0.3);
            font-family: inherit;
        }

        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 50px rgba(249, 115, 22, 0.4);
        }

        .form-disclaimer {
            margin-top: 24px;
            font-size: 0.85rem;
            color: var(--muted);
            text-align: center;
            line-height: 1.6;
        }

        .shake-invalid {
            animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
            border-color: var(--danger) !important;
            box-shadow: 0 0 10px rgba(239, 68, 68, 0.4) !important;
        }

        @keyframes shake {

            10%,
            90% {
                transform: translate3d(-1px, 0, 0);
            }

            20%,
            80% {
                transform: translate3d(2px, 0, 0);
            }

            30%,
            50%,
            70% {
                transform: translate3d(-4px, 0, 0);
            }

            40%,
            60% {
                transform: translate3d(4px, 0, 0);
            }
        }

        .footer {
            background: #0a0e1a;
            padding: 80px 40px 140px;
            position: relative;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 50px;
        }

        .footer-brand .footer-logo {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 20px;
            text-decoration: none;
            transition: transform 0.3s;
        }

        .footer-brand .footer-logo:hover {
            transform: scale(1.05);
        }

        .footer-brand .footer-logo img {
            height: 85px;
        }

        .footer-brand p {
            color: var(--muted);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .footer-links h4 {
            font-size: 0.95rem;
            margin-bottom: 24px;
            color: var(--text);
        }

        .footer-links a {
            display: block;
            color: var(--muted);
            text-decoration: none;
            font-size: 0.95rem;
            margin-bottom: 14px;
            transition: all 0.3s;
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .sticky-cta {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            padding: 10px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 999;
            border-top: 1px solid var(--border);
            backdrop-filter: blur(20px);
            transform: translateY(100%);
            transition: transform 0.5s ease;
        }

        .sticky-cta.visible {
            transform: translateY(0);
        }

        .sticky-cta-text {
            font-weight: 600;
            font-size: 1.05rem;
        }

        .sticky-cta-btn {
            background: white;
            color: var(--bg);
            padding: 10px 28px;
            border-radius: 8px;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.4s;
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
        }

        .sticky-cta-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 1200px) {
            .wa-demo-layout {
                grid-template-columns: 1fr;
                gap: 50px;
            }

            .wa-content-left,
            .wa-content-right {
                text-align: center;
            }

            .wa-stats-row {
                justify-content: center !important;
            }

            .phone-container {
                margin: 50px 0;
            }
        }

        @media (max-width: 1024px) {
            .calc-layout {
                grid-template-columns: 1fr;
            }

            .calc-results {
                position: relative;
                top: 0;
            }

            .timeline-item {
                flex-direction: column !important;
                text-align: center;
            }

            .timeline-content,
            .timeline-visual {
                width: 100% !important;
                padding: 0 !important;
                text-align: center !important;
            }

            .timeline-node {
                position: relative !important;
                left: auto !important;
                transform: none !important;
                margin: 30px auto;
            }

            .timeline-line {
                display: none;
            }

            .footer-grid {
                grid-template-columns: 1fr 1fr;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-inner {
                padding: 12px 20px;
            }

            .hero {
                padding: 120px 20px 80px;
            }

            .hero-features {
                grid-template-columns: 1fr;
            }

            .hero-btns {
                flex-direction: column;
                align-items: center;
            }

            .btn-primary,
            .btn-secondary {
                width: 100%;
                max-width: 320px;
                justify-content: center;
            }

            .calc-section,
            .prof-section,
            .losses-section-v2,
            .wa-demo-section-replica,
            .features-section,
            .pricing-revolution,
            .contact-section {
                padding: 80px 20px;
            }

            .calc-inputs {
                padding: 28px;
            }

            .calc-tabs {
                flex-direction: column;
            }

            .results-main-value {
                font-size: 3.5rem;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            .losses-grid,
            .features-grid {
                grid-template-columns: 1fr;
            }

            .pricing-guarantee {
                flex-direction: column;
                text-align: center;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .footer-grid {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .sticky-cta {
                flex-direction: column;
                gap: 14px;
                padding: 18px 20px;
            }

            .sticky-cta-btn {
                width: 100%;
                text-align: center;
            }

            .line-left,
            .line-right {
                display: none;
            }

            .iphone-mockup {
                width: 280px;
                height: 600px;
            }
        }

        @media (prefers-reduced-motion: reduce) {

            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        :focus-visible {
            outline: 3px solid var(--primary);
            outline-offset: 4px;
            border-radius: 4px;
        }

        .btn-primary:focus-visible,
        .btn-secondary:focus-visible {
            outline-color: white;
        }

        .skip-link {
            position: absolute;
            top: -100px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 10px 20px;
            z-index: 2000;
            transition: top 0.3s;
            text-decoration: none;
            font-weight: 700;
        }

        .skip-link:focus {
            top: 0;
        }

        .updated {
            animation: highlightUpdate var(--duration-slow) var(--ease-smooth);
        }

        @keyframes highlightUpdate {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
                color: var(--primary);
            }

            100% {
                transform: scale(1);
            }
        }

        .form-input.error,
        .form-select.error,
        .contact-form textarea.error {
            border-color: var(--feedback-danger);
            box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.15);
        }

        .error-message {
            display: block;
            color: var(--feedback-danger);
            font-size: var(--text-xs);
            margin-top: var(--space-xs);
            animation: slideInDown var(--duration-fast) var(--ease-smooth);
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .download-overlay {
            position: fixed;
            inset: 0;
            background: rgba(10, 15, 28, 0.95);
            backdrop-filter: blur(15px);
            z-index: 10000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }

        .download-overlay.active {
            display: flex;
        }

        .download-anim {
            width: 100px;
            height: 100px;
            background: rgba(249, 115, 22, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            position: relative;
        }

        .download-anim svg {
            width: 50px;
            height: 50px;
            color: var(--primary);
            animation: bounceIn 1s ease-in-out infinite;
        }

        .download-text {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.5rem;
            letter-spacing: 2px;
            color: white;
            animation: pulseText 2s ease-in-out infinite;
        }

        @keyframes bounceIn {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes pulseText {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.7;
            }
        }

        /* Modern UI Enhancements */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .text-gradient {
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>

<body id="top">
    <!-- Neural Network Background -->
    <canvas id="neural-bg"
        style="position: fixed; inset: 0; z-index: -1; pointer-events: none; opacity: 1; background: radial-gradient(circle at 50% 50%, #1e293b 0%, #0a0f1c 100%);"></canvas>
    <a href="#main-content" class="skip-link">Saltar al contenido</a>
    <!-- Living Grid Background Removed -->
    <!-- <div class="grid-container"></div> -->
    <div class="particles" id="particles"></div>
    <div class="line-left"></div>
    <div class="line-right"></div>

    <header class="header" id="header" role="banner">
        <div class="header-inner">
            <a href="#" class="logo">
                <img src="assets/images/Logo_PSF_Blanco.png" alt="ProSmart Factories">
            </a>
            <nav aria-label="Navegación principal">
                <a href="#calculadora" class="header-cta">Calcular Mis Pérdidas</a>
            </nav>
        </div>
        <div class="scroll-progress" id="scroll-progress"></div>
    </header>

    <main id="main-content">

        <article class="hero" id="hero" aria-labelledby="hero-title">
            <div class="hero-content">
                <h1 class="hero-title">¿Cuánto le cuesta un operario con los <span class="hl">brazos cruzados</span>
                    esperando al encargado?</h1>
                <p class="hero-sub">Mientras sus trabajadores esperan respuestas técnicas, su fábrica quema dinero.
                    Elimine los tiempos muertos con el Asistente de Inteligencia Operativa que responde por WhatsApp en
                    3 segundos.</p>
                <div class="hero-features">
                    <div class="hero-feat">
                        <div class="hero-feat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path
                                    d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z" />
                                <path
                                    d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z" />
                                <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0" />
                                <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5" />
                            </svg>
                        </div>
                        <div class="hero-feat-text"><strong>Sin desplazamientos</strong><span>Respuestas técnicas
                                instantáneas desde el puesto de trabajo</span></div>
                    </div>
                    <div class="hero-feat">
                        <div class="hero-feat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23" />
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                            </svg>
                        </div>
                        <div class="hero-feat-text"><strong>Ahorro promedio</strong><span>€30,000/mes recuperados en
                                tiempo y producción</span></div>
                    </div>
                    <div class="hero-feat">
                        <div class="hero-feat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10" />
                                <circle cx="12" cy="12" r="6" />
                                <circle cx="12" cy="12" r="2" />
                            </svg>
                        </div>
                        <div class="hero-feat-text"><strong>Cero errores</strong><span>Información oficial verificada de
                                sus propios manuales</span></div>
                    </div>
                    <div class="hero-feat">
                        <div class="hero-feat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="7" r="4" />
                                <path d="M6 21v-3a6 6 0 0 1 12 0v3" />
                                <path d="M9 14l3 3v4" />
                                <path d="M15 14l-3 3v4" />
                                <path d="M12 14v7" />
                                <path d="M12 14l-1 2 1 2 1-2z" />
                                <path d="M7 14h10" />
                                <path d="M10.5 13l1.5-2 1.5 2" />
                            </svg>
                        </div>
                        <div class="hero-feat-text"><strong>Encargado liberado</strong><span>Supervisa y mejora, no
                                resuelve dudas básicas</span></div>
                    </div>
                </div>
                <div class="hero-btns">
                    <a href="#calculadora" class="btn-primary">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="btn-icon-inline"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z" />
                            <path
                                d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z" />
                            <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0" />
                            <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5" />
                        </svg>
                        Calcular Mi Fuga de Capital
                    </a>
                    <a href="nuestra-solucion.html" class="btn-secondary">▶ Ver Cómo Funciona</a>
                </div>

            </div>
        </article>

        <section class="calc-section" id="calculadora">
            <div class="container">
                <div class="section-header">
                    <div class="badge">
                        <div class="pulse-dot"></div> Diagnóstico Gratuito
                    </div>
                    <h2 class="section-title">¿Cuánto Dinero Está Perdiendo Su Planta?</h2>
                    <p class="section-sub">Complete los datos de su operación y descubra el costo real de los tiempos
                        muertos</p>
                </div>
                <div class="calc-layout">
                    <div class="calc-inputs">
                        <div class="calc-tabs" role="tablist" aria-label="Configuración de cálculo de pérdidas">
                            <button class="calc-tab active" role="tab" id="tab-operativa" aria-selected="true"
                                aria-controls="panel-operativa" data-tab="operativa" tabindex="0"><span>1.
                                    Operativa</span></button>
                            <button class="calc-tab" role="tab" id="tab-interrupciones" aria-selected="false"
                                aria-controls="panel-interrupciones" data-tab="interrupciones" tabindex="-1"><span>2.
                                    Interrupciones</span></button>
                            <button class="calc-tab" role="tab" id="tab-produccion" aria-selected="false"
                                aria-controls="panel-produccion" data-tab="produccion" tabindex="-1"><span>3.
                                    Producción</span></button>
                        </div>
                        <div class="calc-panel active" role="tabpanel" id="panel-operativa"
                            aria-labelledby="tab-operativa">
                            <div class="form-group">
                                <label class="form-label">Número de Operarios</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-operarios">20</span>
                                    <input type="range" class="slider" id="slider-operarios" min="5" max="100"
                                        value="20" aria-valuemin="5" aria-valuemax="100" aria-valuenow="20"
                                        aria-label="Número de operarios" aria-describedby="val-operarios">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Turnos Diarios</label>
                                <select class="form-select" id="select-turnos">
                                    <option value="1">1 Turno (8 horas)</option>
                                    <option value="2" selected>2 Turnos (16 horas)</option>
                                    <option value="3">3 Turnos (24 horas)</option>
                                </select>
                                <p class="form-helper">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="icon-inline"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" style="vertical-align: text-bottom; margin-right: 4px;">
                                        <circle cx="12" cy="12" r="5" />
                                        <line x1="12" y1="1" x2="12" y2="3" />
                                        <line x1="12" y1="21" x2="12" y2="23" />
                                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                                        <line x1="1" y1="12" x2="3" y2="12" />
                                        <line x1="21" y1="12" x2="23" y2="12" />
                                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                                    </svg>
                                    Cada turno adicional multiplica las consultas y las paradas
                                </p>
                                <div class="turnos-impact" id="turnos-impact">
                                    <strong>Impacto actual:</strong>
                                    <span class="turnos-impact-text" id="turnos-impact-text">Con 2 turnos, las pérdidas
                                        se DUPLICAN</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Salario Promedio Hora (€)</label>
                                <input type="number" class="form-input" id="input-salario" value="18" min="10" max="50">
                            </div>
                        </div>
                        <div class="calc-panel" role="tabpanel" id="panel-interrupciones"
                            aria-labelledby="tab-interrupciones">
                            <div class="form-group">
                                <label class="form-label">Consultas por Operario/Día</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-consultas">3</span>
                                    <input type="range" class="slider" id="slider-consultas" min="1" max="10" value="3">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tiempo Promedio por Consulta (min)</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-tiempo-consulta">25 min</span>
                                    <input type="range" class="slider" id="slider-tiempo-consulta" min="5" max="45"
                                        value="25">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tiempo Buscando al Encargado (min)</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-busqueda">10 min</span>
                                    <input type="range" class="slider" id="slider-busqueda" min="5" max="20" value="10">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tiempo Encargado por Consulta (min)</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-tiempo-encargado">15 min</span>
                                    <input type="range" class="slider" id="slider-tiempo-encargado" min="5" max="30"
                                        value="15">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Salario Encargado Hora (€)</label>
                                <input type="number" class="form-input" id="input-salario-encargado" value="25" min="15"
                                    max="60">
                            </div>
                        </div>
                        <div class="calc-panel" role="tabpanel" id="panel-produccion" aria-labelledby="tab-produccion">
                            <div class="form-group">
                                <label class="form-label">Máquinas Críticas</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-maquinas">8</span>
                                    <input type="range" class="slider" id="slider-maquinas" min="1" max="20" value="8">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Piezas/Hora por Máquina</label>
                                <input type="number" class="form-input" id="input-piezas-hora" value="50" min="1"
                                    max="500">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Valor Promedio Pieza (€)</label>
                                <input type="number" class="form-input" id="input-valor-pieza" value="8.5" min="0.5"
                                    max="100" step="0.5">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tiempo Máquina Parada/Consulta (min)</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-parada">15 min</span>
                                    <input type="range" class="slider" id="slider-parada" min="10" max="60" value="15">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Paradas por Máquina/Día</label>
                                <div class="slider-wrap">
                                    <span class="slider-val" id="val-frecuencia">2 veces</span>
                                    <input type="range" class="slider" id="slider-frecuencia" min="1" max="5" value="2">
                                </div>
                            </div>
                        </div>

                        <!-- Dashboard Dinámico -->
                        <div class="calc-dashboard">
                            <div class="dashboard-title">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                    style="vertical-align: text-bottom; margin-right: 8px;">
                                    <line x1="18" y1="20" x2="18" y2="10" />
                                    <line x1="12" y1="20" x2="12" y2="4" />
                                    <line x1="6" y1="20" x2="6" y2="14" />
                                </svg>
                                Vista Operativa en Tiempo Real
                            </div>
                            <div class="dashboard-grid">
                                <div class="dashboard-metric">
                                    <div class="metric-label">Interrupciones/Día</div>
                                    <div class="metric-value" id="metric-consultas-dia">60</div>
                                    <div class="metric-subtext">consultas totales</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-label">Hemorragia Diaria</div>
                                    <div class="metric-value" id="metric-costo-dia">€450</div>
                                    <div class="metric-subtext">dinero evaporado</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-label">Horas Fantasma/Día</div>
                                    <div class="metric-value" id="metric-tiempo-dia">25h</div>
                                    <div class="metric-subtext">pagas pero no produces</div>
                                </div>
                                <div class="dashboard-metric">
                                    <div class="metric-label">Oportunidad Perdida</div>
                                    <div class="metric-value" id="metric-prod-valor">€2,040</div>
                                    <div class="metric-subtext">valor no fabricado/día</div>
                                </div>
                            </div>
                            <div class="dashboard-insight">
                                <div class="insight-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path
                                            d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" />
                                    </svg>
                                </div>
                                <div class="insight-text">
                                    Estás quemando <strong id="insight-dinero-dia">€600</strong> cada día. En una
                                    semana, pierdes <strong id="insight-dinero-semana">€3,000</strong> que nunca
                                    recuperarás
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="calc-results">
                        <div class="results-main">
                            <div class="results-main-label">Pérdida Total Mensual</div>
                            <div class="results-main-value" id="result-total">€0</div>
                            <div class="results-main-annual">Proyección Anual: <span id="result-anual">€0</span></div>
                        </div>
                        <div class="results-grid">
                            <div class="result-card">
                                <div class="result-card-label">Salario/Mes</div>
                                <div class="result-card-value" id="result-salario">€0</div>
                                <div class="result-card-sub">Operarios + Encargado</div>
                            </div>
                            <div class="result-card">
                                <div class="result-card-label">Producción/Mes</div>
                                <div class="result-card-value" id="result-produccion">€0</div>
                                <div class="result-card-sub">Pérdida por paradas</div>
                            </div>
                            <div class="result-card">
                                <div class="result-card-label">Tiempo/Mes</div>
                                <div class="result-card-value" id="result-horas">0 hrs</div>
                                <div class="result-card-sub">Tiempo improductivo</div>
                            </div>
                            <div class="result-card">
                                <div class="result-card-label">Piezas/Mes</div>
                                <div class="result-card-value" id="result-piezas">0 un.</div>
                                <div class="result-card-sub">Producción perdida</div>
                            </div>
                        </div>
                        <div class="crisis-gauge">
                            <div class="crisis-header">
                                <div><span class="crisis-title">Nivel de Crisis Operativa</span></div>
                                <div class="ahorro-box">
                                    <div class="ahorro-title">Ahorro Líquido</div>
                                    <div class="ahorro-value" id="ahorro-value">€0</div>
                                    <div class="ahorro-sub">Inversión Inicial (Setup + Mant): <span
                                            id="inversion-ia">€6.500</span>
                                    </div>
                                </div>
                            </div>
                            <div class="gauge-wrap">
                                <svg class="gauge-svg" viewBox="0 0 220 130" role="img"
                                    aria-labelledby="gauge-title gauge-desc">
                                    <title id="gauge-title">Indicador de nivel de crisis operativa</title>
                                    <desc id="gauge-desc">Muestra el nivel actual de pérdidas: BAJO, MEDIO o CRÍTICO
                                    </desc>
                                    <path class="gauge-bg" d="M 20 110 A 90 90 0 0 1 200 110" />
                                    <path id="gauge-progress" class="gauge-progress" d="M 20 110 A 90 90 0 0 1 200 110"
                                        stroke="#22c55e" stroke-dasharray="283" stroke-dashoffset="283" />
                                    <polygon id="gauge-needle" class="gauge-needle" points="110,30 105,110 115,110" />
                                    <circle class="gauge-center" cx="110" cy="110" r="10" />
                                </svg>
                            </div>
                            <div class="crisis-level" id="crisis-level">BAJO</div>
                        </div>
                        <div class="insights-box">
                            <div class="insight-item">
                                <div class="insight-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                        stroke="#f97316" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <line x1="12" y1="1" x2="12" y2="23" />
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                    </svg></div><span>Equivale a <strong id="insight-salarios">0</strong> salarios
                                    perdidos al mes.</span>
                            </div>
                            <div class="insight-item">
                                <div class="insight-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                        stroke="#f97316" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                                        <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                                        <line x1="12" y1="22.08" x2="12" y2="12" />
                                    </svg></div><span>Podría haber fabricado <strong id="insight-piezas">0</strong>
                                    piezas más.</span>
                            </div>
                            <div class="insight-item">
                                <div class="insight-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                        stroke="#f97316" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <circle cx="12" cy="12" r="3" />
                                        <rect x="11" y="2" width="2" height="4" rx="0.5" />
                                        <rect x="11" y="18" width="2" height="4" rx="0.5" />
                                        <rect x="18" y="11" width="4" height="2" rx="0.5" />
                                        <rect x="2" y="11" width="4" height="2" rx="0.5" />
                                        <rect x="16.5" y="4.5" width="2" height="4" rx="0.5"
                                            transform="rotate(45 17.5 6.5)" />
                                        <rect x="16.5" y="15.5" width="2" height="4" rx="0.5"
                                            transform="rotate(-45 17.5 17.5)" />
                                        <rect x="5.5" y="4.5" width="2" height="4" rx="0.5"
                                            transform="rotate(-45 6.5 6.5)" />
                                        <rect x="5.5" y="15.5" width="2" height="4" rx="0.5"
                                            transform="rotate(45 6.5 17.5)" />
                                    </svg></div><span>Pierde <strong id="insight-maquinas">0</strong>
                                    máquinas de €25k al año.</span>
                            </div>
                            <div class="insight-item">
                                <div class="insight-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                        stroke="#f97316" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                                    </svg></div><span>ROI esperado en <strong id="insight-roi">1</strong> mes.</span>
                            </div>
                        </div>
                        <div class="turnos-comp">
                            <div class="turnos-comp-title">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                    style="vertical-align: text-bottom; margin-right: 8px;">
                                    <line x1="18" y1="20" x2="18" y2="10" />
                                    <line x1="12" y1="20" x2="12" y2="4" />
                                    <line x1="6" y1="20" x2="6" y2="14" />
                                </svg>
                                Comparación Proyectada por Turnos
                            </div>
                            <div class="turno-row"><span>1 Turno (8h):</span><span class="turno-val green"
                                    id="comp-1-turno">€0</span></div>
                            <div class="turno-row"><span>2 Turnos (16h):</span><span class="turno-val yellow"
                                    id="comp-2-turnos">€0</span></div>
                            <div class="turno-row"><span>3 Turnos (24h):</span><span class="turno-val red"
                                    id="comp-3-turnos">€0</span></div>
                        </div>
                        <div class="hemorragia-cta">
                            <div class="hemorragia-title">🩸 HEMORRAGIA CRÍTICA</div>
                            <p class="hemorragia-text" id="hemorragia-text">Su planta pierde el equivalente a 0
                                máquinas/año.</p>
                            <button class="btn-danger" onclick="scrollToContact()">🛑 Detener Hemorragia Ahora</button>
                            <button class="btn-dark" onclick="descargarPDF()">📄 Descargar Auditoría PDF</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCIÓN: ANATOMÍA DEL TIEMPO MUERTO (ÚLTIMA CLONACIÓN 1:1) -->
        <section class="prof-section" id="problema">
            <div class="bg-particles-new" id="tp-particles-container"></div>
            <div class="grid-bg-new"></div>

            <div class="prof-container">
                <div class="section-header">
                    <div class="badge"><span class="pulse-dot"></span> Anatomía del Tiempo Muerto</div>
                    <h2 class="section-title">Así Se Evapora Tu Dinero<br>Cada Día en Tu Fábrica</h2>
                    <p class="section-sub">Cada
                        minuto de inactividad es dinero que se pierde. Visualiza cómo un simple problema se convierte en
                        una cascada de pérdidas que afectan tu rentabilidad.</p>
                </div>

                <div class="tp-timeline">
                    <div class="tp-line"></div>

                    <!-- Paso 1 -->
                    <div class="tp-item node-warning">
                        <div class="tp-content">
                            <div class="tp-card">
                                <span class="tp-card-step">Paso 01</span>
                                <h3 class="tp-card-title">El Operario Tiene Una Duda</h3>
                                <p class="tp-card-desc">No está seguro de una tolerancia o un parámetro de la máquina.
                                    La producción <strong>se detiene</strong> mientras busca respuestas.</p>
                                <div class="t-disp-prof">
                                    <span
                                        style="font-family:'JetBrains Mono'; color:var(--tp-accent); font-size:1.6rem; font-weight:700;">00:00</span>
                                    <span
                                        style="font-size:0.8rem; color:#94a3b8; border-left:1px solid #334155; padding-left:10px; margin-left:10px;">Inicio</span>
                                </div>
                            </div>
                        </div>
                        <div class="tp-node">
                            <div class="tp-node-glow"></div>
                            <div class="tp-node-orbit"></div>
                            <div class="tp-node-circle">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                    <line x1="12" y1="17" x2="12.01" y2="17" />
                                </svg>
                            </div>
                        </div>
                        <div class="tp-visual">
                            <div class="tp-illu-box">
                                <div class="tp-worker-scene">
                                    <div class="tp-worker-head"></div>
                                    <div class="tp-worker-body"></div>
                                    <div class="tp-q-marks">
                                        <span style="right:45px; top:0;">?</span>
                                        <span style="right:15px; top:-15px; animation-delay:0.5s;">?</span>
                                        <span style="right:15px; top:20px; animation-delay:1s;">?</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 2 -->
                    <div class="tp-item node-search">
                        <div class="tp-content">
                            <div class="tp-card">
                                <span class="tp-card-step">Paso 02</span>
                                <h3 class="tp-card-title">La Búsqueda</h3>
                                <p class="tp-card-desc"><strong>DEJA LA MÁQUINA PARADA</strong> y atraviesa la planta
                                    para buscar al encargado. Minutos críticos de inactividad.</p>
                                <div class="t-disp-prof">
                                    <span
                                        style="font-family:'JetBrains Mono'; color:var(--tp-accent); font-size:1.6rem; font-weight:700;">+05:00</span>
                                    <span
                                        style="font-size:0.8rem; color:#94a3b8; border-left:1px solid #334155; padding-left:10px; margin-left:10px;">Desplazamiento</span>
                                </div>
                            </div>
                        </div>
                        <div class="tp-node">
                            <div class="tp-node-glow"></div>
                            <div class="tp-node-orbit"></div>
                            <div class="tp-node-circle">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <circle cx="11" cy="11" r="8" />
                                    <path d="m21 21-4.35-4.35" />
                                </svg>
                            </div>
                        </div>
                        <div class="tp-visual" style="padding-left: 100px;">
                            <div class="tp-illu-box">
                                <div class="tp-search-scene">
                                    <div class="tp-factory" style="left: auto; right: 20px;">
                                        <div style="display:flex; gap:5px; padding:10px;">
                                            <div
                                                style="width:10px; height:10px; background:#1e293b; border-radius:2px;">
                                            </div>
                                            <div
                                                style="width:10px; height:10px; background:#1e293b; border-radius:2px;">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tp-walking-worker"
                                        style="position:absolute; bottom:40px; left:0; animation: tp-walk-factory 4s linear infinite;">
                                        <div class="tp-worker-head" style="width:35px; height:35px;"></div>
                                        <div class="tp-worker-body" style="width:40px; height:50px;"></div>
                                    </div>
                                    <style>
                                        @keyframes tp-walk-factory {
                                            0% {
                                                transform: translateX(0);
                                                opacity: 0;
                                            }

                                            10% {
                                                opacity: 1;
                                            }

                                            90% {
                                                opacity: 1;
                                            }

                                            100% {
                                                transform: translateX(120px);
                                                opacity: 0;
                                            }
                                        }

                                        /* Modern UI Enhancements */
                                        .glass-card {
                                            background: rgba(255, 255, 255, 0.03);
                                            backdrop-filter: blur(12px);
                                            -webkit-backdrop-filter: blur(12px);
                                            border: 1px solid rgba(255, 255, 255, 0.1);
                                            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
                                        }

                                        .text-gradient {
                                            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
                                            -webkit-background-clip: text;
                                            -webkit-text-fill-color: transparent;
                                        }
                                    </style>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 3 -->
                    <div class="tp-item node-bottleneck">
                        <div class="tp-content">
                            <div class="tp-card">
                                <span class="tp-card-step">Paso 03</span>
                                <h3 class="tp-card-title">El Cuello de Botella</h3>
                                <p class="tp-card-desc">El encargado está resolviendo otra urgencia. El operario espera
                                    en una cola invisible. <strong>El tiempo corre.</strong></p>
                                <div class="t-disp-prof">
                                    <span id="tp-timer-val"
                                        style="font-family:'JetBrains Mono'; color:var(--tp-accent); font-size:1.6rem; font-weight:700;">09:40</span>
                                    <span
                                        style="font-size:0.8rem; color:#94a3b8; border-left:1px solid #334155; padding-left:10px; margin-left:10px;">En
                                        cola</span>
                                </div>
                            </div>
                        </div>
                        <div class="tp-node">
                            <div class="tp-node-glow"></div>
                            <div class="tp-node-orbit"></div>
                            <div class="tp-node-circle">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <circle cx="12" cy="12" r="10" />
                                    <polyline points="12 6 12 12 16 14" />
                                </svg>
                            </div>
                        </div>
                        <div class="tp-visual">
                            <div class="tp-illu-box">
                                <div class="tp-funnel">
                                    <div class="tp-queue-dot"></div>
                                    <div class="tp-queue-dot" style="animation-delay:0.5s"></div>
                                    <div class="tp-queue-dot" style="animation-delay:1s"></div>
                                </div>
                                <div
                                    style="position:absolute; bottom:10px; font-family:'JetBrains Mono'; color:var(--tp-color-primary); font-size:0.7rem;">
                                    ESPERANDO...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Paso 4 -->
                    <div class="tp-item node-paralysis">
                        <div class="tp-content">
                            <div class="tp-card">
                                <span class="tp-card-step">Paso 04</span>
                                <h3 class="tp-card-title">La Parálisis</h3>
                                <p class="tp-card-desc">Máquina parada. Operario cobrando. <strong>Cero
                                        producción.</strong> El costo se acumula exponencialmente.</p>
                                <div
                                    style="background:rgba(239,68,68,0.15); border-radius:12px; padding:15px; border:1px solid rgba(239,68,68,0.3); color:#fca5a5; font-size:0.9rem; display:flex; align-items:center; gap:10px;">
                                    <span style="display:flex; align-items:center;">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path
                                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
                                            <line x1="12" y1="9" x2="12" y2="13" />
                                            <line x1="12" y1="17" x2="12.01" y2="17" />
                                        </svg>
                                    </span>
                                    <span>Estás pagando <strong>DOS SUELDOS</strong> para generar <strong>CERO
                                            VALOR</strong></span>
                                </div>
                            </div>
                        </div>
                        <div class="tp-node">
                            <div class="tp-node-glow"></div>
                            <div class="tp-node-orbit"></div>
                            <div class="tp-node-circle">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="15" y1="9" x2="9" y2="15" />
                                    <line x1="9" y1="9" x2="15" y2="15" />
                                </svg>
                            </div>
                        </div>
                        <div class="tp-visual">
                            <div class="tp-illu-box">
                                <div class="tp-money-burn">
                                    <div class="tp-bill">
                                        $
                                        <div class="tp-flame" style="left:10px;"></div>
                                        <div class="tp-flame" style="left:30px; height:30px;"></div>
                                        <div class="tp-flame" style="left:50px;"></div>
                                    </div>
                                    <div
                                        style="margin-top:40px; color:#ef4444; font-family:'JetBrains Mono'; font-weight:700; background:rgba(239,68,68,0.1); padding:5px 15px; border-radius:20px;">
                                        -€<span id="tp-loss-val">0</span>/hora</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CTA Profesional Reparado -->
                <div class="tp-cta">
                    <h3 class="tp-title" style="font-size:2.8rem; margin-bottom:10px;">¿CUÁNTO DINERO PIERDES?</h3>
                    <p style="color:#94a3b8; margin-bottom:40px;">Calcula el impacto real del tiempo muerto en tu
                        fábrica</p>
                    <a href="#calculadora" class="btn-primary"
                        style="display:inline-block; width:auto; padding:20px 50px; border-radius:60px; text-decoration:none; font-weight:700; letter-spacing:2px;">CALCULAR
                        MIS PÉRDIDAS</a>

                    <div class="tp-stats-grid">
                        <div class="tp-stat-card">
                            <span class="tp-stat-val" id="tp-stat-h">0</span>
                            <span class="tp-stat-lab">Horas Perdidas/Mes</span>
                        </div>
                        <div class="tp-stat-card">
                            <span class="tp-stat-val" id="tp-stat-m">€0</span>
                            <span class="tp-stat-lab">Dinero Evaporado</span>
                        </div>
                        <div class="tp-stat-card">
                            <span class="tp-stat-val" id="tp-stat-u">0</span>
                            <span class="tp-stat-lab">Unid. No Producidas</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ORANGE PARTICLE TRANSITION -->
        <section class="orange-transition-section">
            <div class="wa-bg-particles" id="orange-particles"></div>
            <div class="wa-grid-bg" style="opacity: 0.15;"></div>

            <div class="wa-bg-circle wa-bg-circle-1"
                style="border-color: rgba(249,115,22,0.15); width:600px; height:600px; left:-300px;"></div>
            <div class="wa-bg-circle wa-bg-circle-2"
                style="border-color: rgba(249,115,22,0.15); width:500px; height:500px; right:-250px;"></div>

            <div style="position: relative; z-index: 10; text-align: center;">
                <h2
                    style="font-family: 'Bebas Neue'; font-size: 4rem; color: var(--primary); text-shadow: 0 0 30px rgba(249,115,22,0.4); margin-bottom: 10px; letter-spacing: 2px;">
                    LA HEMORRAGIA ES REAL
                </h2>
                <p style="color: var(--muted); font-size: 1.2rem; max-width: 600px; margin: 0 auto;">
                    Cada segundo que pasa sin un sistema de gestión del conocimiento es beneficio neto que desaparece.
                </p>
            </div>
        </section>

        <!-- LOSSES SECTION - DYNAMIC REDESIGN -->
        <section class="losses-section-v2">
            <div class="losses-bg-gradient"></div>
            <div class="losses-container">
                <!-- Main Title with Animation -->
                <div class="section-header">
                    <div class="badge">
                        <div class="pulse-dot"></div>
                        <span>ESCENARIO REAL</span>
                    </div>
                    <h2 class="section-title">
                        <span class="title-highlight">Una Planta de 30 Operarios</span><br>
                        Pierde Esto Cada Mes por "Ir a Preguntar"
                    </h2>
                    <p class="section-sub">
                        Datos reales de una fábrica metalúrgica donde cada operario interrumpe 2 veces al día
                        para preguntar dudas técnicas
                    </p>
                </div>

                <div class="scenario-grid">
                    <div class="scenario-card card-context">
                        <div class="scenario-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 22 V12 H21 V22" />
                                <path d="M7 12 V6 H10 V12" />
                                <path d="M14 12 V8 H17 V12" />
                                <line x1="7" y1="15" x2="7" y2="17" />
                                <line x1="11" y1="15" x2="11" y2="17" />
                                <line x1="15" y1="15" x2="15" y2="17" />
                                <line x1="7" y1="19" x2="7" y2="21" />
                                <line x1="11" y1="19" x2="11" y2="21" />
                                <line x1="15" y1="19" x2="15" y2="21" />
                            </svg>
                        </div>
                        <div class="scenario-label">Contexto</div>
                        <div class="scenario-value">30 <span class="unit">operarios</span></div>
                        <div class="scenario-desc">1 turno de 8h</div>
                    </div>
                    <div class="scenario-card card-interruption"
                        data-tooltip="Una 'duda' incluye desde validación de tolerancias hasta esperas por planos o falta de instrucciones claras. En procesos complejos, los operarios consultan al encargado o buscan información hasta 5 veces al día.">
                        <div class="scenario-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path
                                    d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
                                <line x1="12" y1="9" x2="12" y2="13" />
                                <line x1="12" y1="17" x2="12.01" y2="17" />
                            </svg>
                        </div>
                        <div class="scenario-label">Interrupciones</div>
                        <div class="scenario-value">2 <span class="unit">dudas/día</span></div>
                        <div class="scenario-desc">Por operario (tolerancia, parámetro, procedimiento)</div>
                    </div>
                    <div class="scenario-card card-time"
                        data-tooltip="Tiempo medido desde que surge la duda hasta que la máquina vuelve a fabricar a pleno rendimiento. Incluye el desplazamiento, la espera del responsable y el tiempo de re-ajuste de la máquina.">
                        <div class="scenario-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10" />
                                <polyline points="12 6 12 12 16 14" />
                            </svg>
                        </div>
                        <div class="scenario-label">Tiempo Perdido</div>
                        <div class="scenario-value">10 <span class="unit">min/duda</span></div>
                        <div class="scenario-desc">5 min buscar + 5 min consultar</div>
                    </div>
                </div>

                <!-- Impact Numbers -->
                <div class="losses-impact">
                    <h3 class="impact-title">
                        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round"
                            style="vertical-align: text-bottom; margin-right: 8px;">
                            <line x1="18" y1="20" x2="18" y2="10" />
                            <line x1="12" y1="20" x2="12" y2="4" />
                            <line x1="6" y1="20" x2="6" y2="14" />
                        </svg>
                        El Impacto Mensual Real
                    </h3>
                    <div class="losses-grid-v2">
                        <div class="loss-card-v2">
                            <div class="spotlight"></div>
                            <div class="loss-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10" />
                                    <polyline points="12 6 12 12 16 14" />
                                </svg>
                            </div>
                            <div class="loss-value-v2" id="loss-hours-v2">0</div>
                            <div class="loss-label-v2">Horas Productivas Evaporadas</div>
                            <div class="loss-calc">Op (220h) + Enc (110h) = 330 h/mes</div>
                            <div class="smart-insight">
                                <div class="insight-header"><span>Información Relevante</span></div>
                                <div class="insight-body">Cálculo mensual basado en 22 días. Suma la inactividad del
                                    operario y la distracción del responsable técnico.</div>
                            </div>
                        </div>
                        <div class="loss-card-v2">
                            <div class="spotlight"></div>
                            <div class="loss-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="1" x2="12" y2="23" />
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                </svg>
                            </div>
                            <div class="loss-value-v2" id="loss-salary-v2">€0</div>
                            <div class="loss-label-v2">Salarios Pagados Sin Producir</div>
                            <div class="loss-calc">Op (€3.960) + Enc (€2.750) = €6.710/mes</div>
                            <div class="smart-insight">
                                <div class="insight-header"><span>Información Relevante</span></div>
                                <div class="insight-body">Coste neto empresarial. Ignorar los costes sociales (SS)
                                    infravalora la pérdida real en un 30-35%.</div>
                            </div>
                        </div>
                        <div class="loss-card-v2">
                            <div class="spotlight"></div>
                            <div class="loss-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="3" />
                                    <rect x="11" y="2" width="2" height="4" rx="0.5" />
                                    <rect x="11" y="18" width="2" height="4" rx="0.5" />
                                    <rect x="18" y="11" width="4" height="2" rx="0.5" />
                                    <rect x="2" y="11" width="4" height="2" rx="0.5" />
                                    <rect x="16.5" y="4.5" width="2" height="4" rx="0.5"
                                        transform="rotate(45 17.5 6.5)" />
                                    <rect x="16.5" y="15.5" width="2" height="4" rx="0.5"
                                        transform="rotate(-45 17.5 17.5)" />
                                    <rect x="5.5" y="4.5" width="2" height="4" rx="0.5"
                                        transform="rotate(-45 6.5 6.5)" />
                                    <rect x="5.5" y="15.5" width="2" height="4" rx="0.5"
                                        transform="rotate(45 6.5 17.5)" />
                                </svg>
                            </div>
                            <div class="loss-value-v2" id="loss-machines-v2">0</div>
                            <div class="loss-label-v2">Paradas de Máquina al Día</div>
                            <div class="loss-calc">30 operarios × 2 dudas = 60 interrupciones diarias</div>
                            <div class="smart-insight">
                                <div class="insight-header"><span>Información Relevante</span></div>
                                <div class="insight-body">Cada interrupción rompe el estado de 'fluidez' del taller,
                                    provocando arranques más lentos y micro-paradas.</div>
                            </div>
                        </div>
                        <div class="loss-card-v2">
                            <div class="spotlight"></div>
                            <div class="loss-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" class="loss-icon-svg"
                                    stroke="#f97316" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                                    <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                                    <line x1="12" y1="22.08" x2="12" y2="12" />
                                </svg>
                            </div>
                            <div class="loss-value-v2" id="loss-production-v2">€0</div>
                            <div class="loss-label-v2">Producción No Fabricada</div>
                            <div class="loss-calc">220 h × €100 valor/hora producción = €22.000/mes</div>
                            <div class="smart-insight">
                                <div class="insight-header"><span>Información Relevante</span></div>
                                <div class="insight-body">Estimación muy conservadora. En una planta de andamios real,
                                    el valor de producción varía drásticamente según el mix (ej: Diagonales vs
                                    Laterales). Estos €100/h son una base mínima de referencia; el lucro cesante real
                                    suele ser significativamente superior.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Total Impact -->
                    <div class="total-impact">
                        <div class="total-label">PÉRDIDA TOTAL MENSUAL</div>
                        <div class="total-value" id="total-loss-v2">€0</div>
                        <div class="total-annual">Proyección anual: <span id="total-annual-v2">€0</span></div>
                        <div class="total-note">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                style="vertical-align: text-bottom; margin-right: 6px; color: var(--primary);">
                                <circle cx="12" cy="12" r="5" />
                                <line x1="12" y1="1" x2="12" y2="3" />
                                <line x1="12" y1="21" x2="12" y2="23" />
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                                <line x1="1" y1="12" x2="3" y2="12" />
                                <line x1="21" y1="12" x2="23" y2="12" />
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                            </svg>
                            <strong>Esto significa:</strong> cada mes se pierden €6.710 en salarios y €22.000 en
                            producción.
                        </div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="losses-cta">
                    <div class="cta-text">¿Tu planta tiene números parecidos?</div>
                    <a href="#calculadora" class="btn-losses">Calcula Tus Pérdidas Exactas</a>
                </div>
            </div>
        </section>

        <style>
            /* === LOSSES SECTION V2 STYLES === */
            .losses-section-v2 {
                position: relative;
                padding: 120px 0;
                background: linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
                overflow: hidden;
            }

            .losses-bg-gradient {
                position: absolute;
                top: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 100%;
                max-width: 1400px;
                height: 100%;
                background: radial-gradient(circle at 50% 0%, rgba(249, 115, 22, 0.08) 0%, transparent 60%);
                pointer-events: none;
            }

            .losses-container {
                max-width: 1200px;
                margin: 0 auto;
                position: relative;
                z-index: 2;
            }

            /* Removed specific losses typography as it is now global */




            .title-highlight {
                color: var(--primary);
                display: inline-block;
                position: relative;
                animation: titlePulse 3s ease-in-out infinite;
            }

            @keyframes titlePulse {

                0%,
                100% {
                    transform: scale(1);
                }

                50% {
                    transform: scale(1.02);
                }
            }

            .losses-subtitle {
                font-size: 1.1rem;
                color: var(--muted);
                max-width: 700px;
                margin: 0 auto;
                line-height: 1.7;
            }

            /* Scenario Cards */
            .scenario-grid {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 24px;
                margin-bottom: 60px;
            }

            .scenario-card {
                flex: 1;
                min-width: 300px;
                max-width: 400px;
                /* Prevent huge cards on ultrawide */
                background: rgba(255, 255, 255, 0.02);
                backdrop-filter: blur(10px);
                border: 1px solid var(--border);
                border-radius: 24px;
                padding: 35px 30px;
                text-align: center;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                position: relative;
                overflow: hidden;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .scenario-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 3px;
                background: linear-gradient(90deg, var(--primary), var(--danger));
                opacity: 0;
                transition: opacity 0.3s;
            }

            .scenario-card:hover {
                transform: translateY(-8px);
                border-color: rgba(249, 115, 22, 0.4);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 0 40px rgba(249, 115, 22, 0.1);
            }

            .scenario-card:hover::before {
                opacity: 1;
            }

            .scenario-icon {
                font-size: 3rem;
                margin-bottom: 16px;
                filter: drop-shadow(0 4px 20px rgba(249, 115, 22, 0.3));
            }

            .scenario-label {
                font-size: 0.85rem;
                color: var(--muted);
                text-transform: uppercase;
                letter-spacing: 1.5px;
                margin-bottom: 12px;
                font-weight: 600;
            }

            .scenario-value {
                font-family: 'Bebas Neue', sans-serif;
                font-size: 3.5rem;
                color: var(--primary);
                line-height: 1;
                margin-bottom: 8px;
            }

            .scenario-value .unit {
                font-size: 1.5rem;
                color: var(--muted);
                font-family: 'Plus Jakarta Sans', sans-serif;
            }

            .scenario-desc {
                font-size: 0.9rem;
                color: var(--muted);
                line-height: 1.5;
            }

            /* Impact Section */
            .losses-impact {
                background: rgba(0, 0, 0, 0.3);
                border-radius: 28px;
                padding: 50px 40px;
                border: 1px solid var(--border);
                margin-bottom: 50px;
            }

            .impact-title {
                font-family: 'Bebas Neue', sans-serif;
                font-size: 2rem;
                letter-spacing: 2px;
                text-align: center;
                margin-bottom: 40px;
                color: var(--text);
            }

            .losses-grid-v2 {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
                margin-bottom: 50px;
                perspective: 1000px;
            }

            @media (max-width: 1200px) {
                .losses-grid-v2 {
                    grid-template-columns: repeat(2, 1fr);
                }
            }

            @media (max-width: 640px) {
                .losses-grid-v2 {
                    grid-template-columns: 1fr;
                }
            }

            .loss-card-v2 {
                background: rgba(15, 23, 42, 0.4);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.08);
                border-radius: 24px;
                padding: 35px 30px;
                text-align: center;
                transition: transform 0.1s ease-out, border-color 0.4s, box-shadow 0.4s;
                /* Fast transform */
                position: relative;
                cursor: pointer;
                transform-style: preserve-3d;
            }

            /* Spotlight Tracking Effect - Reusing Logic */
            .loss-card-v2 .spotlight {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(249, 115, 22, 0.15) 0%, transparent 60%);
                opacity: 0;
                transition: opacity 0.3s;
                pointer-events: none;
                border-radius: inherit;
                z-index: 0;
            }

            .loss-card-v2:hover .spotlight {
                opacity: 1;
            }

            .loss-card-v2:hover {
                /* Transform is handled by JS now */
                border-color: rgba(249, 115, 22, 0.4);
                box-shadow: 0 25px 60px -15px rgba(0, 0, 0, 0.5), 0 0 20px rgba(249, 115, 22, 0.1);
            }

            .loss-icon {
                font-size: 3rem;
                margin-bottom: 20px;
                transition: transform 0.5s var(--ease-bounce);
                filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
            }

            .loss-card-v2:hover .loss-icon {
                transform: scale(1.2) rotate(10deg);
            }

            .loss-value-v2 {
                font-family: 'JetBrains Mono', monospace;
                font-size: 3.5rem;
                font-weight: 800;
                color: var(--text);
                margin-bottom: 8px;
                line-height: 1;
                background: linear-gradient(to bottom, #fff, #94a3b8);
                -webkit-background-clip: text;
                background-clip: text;
                -webkit-text-fill-color: transparent;
            }

            .loss-label-v2 {
                font-size: 1rem;
                font-weight: 700;
                color: var(--text);
                margin-bottom: 15px;
                opacity: 0.9;
                letter-spacing: 0.5px;
            }

            .loss-calc {
                font-size: 0.8rem;
                color: var(--muted);
                font-family: 'JetBrains Mono', monospace;
                padding: 10px 15px;
                background: rgba(0, 0, 0, 0.4);
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.05);
                display: inline-block;
            }

            /* Rich Smart Tooltip */
            .smart-insight {
                position: absolute;
                bottom: calc(100% + 20px);
                left: 50%;
                transform: translateX(-50%) translateY(15px) scale(0.9);
                width: 300px;
                background: rgba(15, 23, 42, 0.95);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(249, 115, 22, 0.3);
                border-radius: 20px;
                padding: 0;
                box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.8), 0 0 20px rgba(249, 115, 22, 0.15);
                opacity: 0;
                visibility: hidden;
                transition: all 0.4s var(--ease-bounce);
                z-index: 1000;
                pointer-events: none;
                overflow: hidden;
            }

            .loss-card-v2:hover .smart-insight {
                opacity: 1;
                visibility: visible;
                transform: translateX(-50%) translateY(0) scale(1);
            }

            .insight-header {
                background: linear-gradient(90deg, rgba(249, 115, 22, 0.2), transparent);
                padding: 12px 18px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.05);
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .insight-header span {
                font-family: 'Bebas Neue', sans-serif;
                font-size: 1.1rem;
                letter-spacing: 1px;
                color: var(--primary);
            }

            .insight-body {
                padding: 18px;
                font-size: 0.9rem;
                line-height: 1.6;
                color: var(--text);
                font-weight: 500;
            }

            .smart-insight::after {
                content: '';
                position: absolute;
                top: 100%;
                left: 50%;
                transform: translateX(-50%);
                border: 10px solid transparent;
                border-top-color: rgba(15, 23, 42, 0.95);
            }

            /* Total Impact */
            .total-impact {
                background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1));
                border: 2px solid rgba(239, 68, 68, 0.4);
                border-radius: 24px;
                padding: 40px;
                text-align: center;
                animation: borderPulseTotal 3s ease-in-out infinite;
            }

            @keyframes borderPulseTotal {

                0%,
                100% {
                    border-color: rgba(239, 68, 68, 0.4);
                    box-shadow: 0 0 0 rgba(239, 68, 68, 0);
                }

                50% {
                    border-color: rgba(239, 68, 68, 0.8);
                    box-shadow: 0 0 40px rgba(239, 68, 68, 0.2);
                }
            }

            .total-label {
                font-size: 0.9rem;
                font-weight: 700;
                color: var(--danger);
                text-transform: uppercase;
                letter-spacing: 3px;
                margin-bottom: 12px;
            }

            .total-value {
                font-family: 'Bebas Neue', sans-serif;
                font-size: 5rem;
                color: var(--danger);
                line-height: 1;
                margin-bottom: 16px;
                text-shadow: 0 4px 30px rgba(239, 68, 68, 0.4);
                animation: totalPulse 2s ease-in-out infinite;
            }

            @keyframes totalPulse {

                0%,
                100% {
                    transform: scale(1);
                }

                50% {
                    transform: scale(1.03);
                }
            }

            .total-annual {
                font-size: 1.1rem;
                color: var(--muted);
                margin-bottom: 20px;
            }

            .total-annual span {
                color: var(--danger);
                font-weight: 700;
                font-family: 'JetBrains Mono', monospace;
            }

            .total-note {
                font-size: 0.95rem;
                color: var(--text);
                background: rgba(0, 0, 0, 0.3);
                padding: 16px 24px;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                line-height: 1.6;
            }

            .total-note strong {
                color: var(--primary);
            }

            /* CTA */
            .losses-cta {
                text-align: center;
            }

            .cta-text {
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--text);
                margin-bottom: 24px;
            }

            .btn-losses {
                display: inline-block;
                background: linear-gradient(135deg, var(--primary), var(--danger));
                color: white;
                padding: 20px 50px;
                border-radius: 60px;
                font-weight: 700;
                font-size: 1.1rem;
                text-decoration: none;
                text-transform: uppercase;
                letter-spacing: 1.5px;
                box-shadow: 0 10px 40px rgba(249, 115, 22, 0.4);
                transition: all 0.4s;
                position: relative;
                overflow: hidden;
            }

            .btn-losses::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                transition: left 0.6s;
            }

            .btn-losses:hover::before {
                left: 100%;
            }

            .btn-losses:hover {
                transform: translateY(-4px) scale(1.05);
                box-shadow: 0 20px 60px rgba(249, 115, 22, 0.6);
            }

            /* Responsive */
            @media (max-width: 768px) {
                .losses-section-v2 {
                    padding: 80px 20px;
                }

                .scenario-grid {
                    grid-template-columns: 1fr;
                }

                .losses-grid-v2 {
                    grid-template-columns: 1fr;
                }

                .total-value {
                    font-size: 3.5rem;
                }

                .losses-main-title {
                    font-size: 2.2rem;
                }
            }

            /* Modern UI Enhancements */
            .glass-card {
                background: rgba(255, 255, 255, 0.03);
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            }

            .text-gradient {
                background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
        </style>

        <div class="wa-continuous-block">
            <div class="wa-flow-line-left"></div>
            <div class="wa-flow-line-right"></div>

            <!-- WHATSAPP DEMO SECTION - REPLICA EXACTA -->
            <section class="wa-demo-section-replica" id="demo">
                <!-- Fondo animado específico de la demo -->
                <div class="wa-bg-particles" id="wa-particles"></div>
                <div class="wa-grid-bg"></div>

                <!-- Círculos decorativos -->
                <div class="wa-bg-circle wa-bg-circle-1"></div>
                <div class="wa-bg-circle wa-bg-circle-2"></div>
                <div class="wa-bg-circle wa-bg-circle-3"></div>

                <div class="wa-container-demo">
                    <div class="wa-demo-section-content">
                        <!-- Columna izquierda -->
                        <div class="wa-content-col wa-content-left">
                            <div class="wa-section-badge">
                                <span class="wa-pulse-dot"></span>
                                Demo en Vivo
                            </div>
                            <h2 class="wa-main-title-replica">
                                Tu <span>Encargado Digital</span><br>
                                Responde 24/7
                            </h2>
                            <p class="wa-main-description">
                                Mira cómo tus operarios obtienen respuestas técnicas precisas
                                en segundos a través de WhatsApp. Sin esperas, sin paradas,
                                sin pérdidas.
                            </p>
                            <div class="wa-stats-row-replica">
                                <div class="wa-stat-box-replica">
                                    <div class="wa-stat-value-replica">&lt;3s</div>
                                    <div class="wa-stat-label-replica">Tiempo respuesta</div>
                                </div>
                                <div class="wa-stat-box-replica">
                                    <div class="wa-stat-value-replica">24/7</div>
                                    <div class="wa-stat-label-replica">Disponibilidad</div>
                                </div>
                            </div>
                        </div>

                        <!-- iPhone Mockup -->
                        <div class="wa-phone-container">
                            <div class="wa-operario-indicator">
                                Operario <span class="wa-op-number" id="operario-number">1</span> de 10
                            </div>

                            <div class="wa-iphone-mockup">
                                <div class="wa-dynamic-island"></div>
                                <div class="wa-phone-screen">
                                    <!-- Status bar -->
                                    <div class="wa-status-bar">
                                        <div class="wa-status-bar-left">9:41</div>
                                        <div class="wa-status-bar-right">
                                            <svg viewBox="0 0 24 24" fill="currentColor">
                                                <path
                                                    d="M12 3C7.46 3 3.34 4.78.29 7.67c-.18.18-.29.43-.29.71 0 .28.11.53.29.71l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.11.7-.28.79-.74 1.69-1.36 2.66-1.85.33-.16.56-.5.56-.9v-3.1c1.45-.48 3-.73 4.6-.73s3.15.25 4.6.73v3.1c0 .4.23.74.56.9.98.49 1.87 1.12 2.67 1.85.18.18.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71 0-.28-.11-.53-.29-.71C20.66 4.78 16.54 3 12 3z" />
                                            </svg>
                                            <svg viewBox="0 0 24 24" fill="currentColor">
                                                <path
                                                    d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z" />
                                            </svg>
                                        </div>
                                    </div>

                                    <!-- WhatsApp Header -->
                                    <div class="wa-header">
                                        <svg class="wa-header-back" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M15 18l-6-6 6-6" />
                                        </svg>
                                        <div class="wa-header-avatar">
                                            <img src="assets/images/logo_psf_1_-removebg-preview.png" alt="PSF Logo"
                                                style="width: 100%; height: 100%; object-fit: contain; padding: 4px; border-radius: 50%;">
                                            <div class="wa-online-indicator"></div>
                                        </div>
                                        <div class="wa-header-info">
                                            <div class="wa-header-name">Encargado Digital</div>
                                            <div class="wa-header-status">En línea</div>
                                        </div>
                                        <div class="wa-header-icons">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path
                                                    d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
                                            </svg>
                                            <svg viewBox="0 0 24 24" fill="currentColor">
                                                <circle cx="12" cy="5" r="2" />
                                                <circle cx="12" cy="12" r="2" />
                                                <circle cx="12" cy="19" r="2" />
                                            </svg>
                                        </div>
                                    </div>

                                    <!-- Chat área -->
                                    <div class="wa-chat-area" id="chat-area">
                                        <!-- Los mensajes se insertan aquí dinámicamente -->
                                    </div>

                                    <!-- Input área -->
                                    <div class="wa-chat-input-area">
                                        <div class="wa-input-icons-left">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <circle cx="12" cy="12" r="10" />
                                                <path d="M8 14s1.5 2 4 2 4-2 4-2" />
                                                <line x1="9" y1="9" x2="9.01" y2="9" />
                                                <line x1="15" y1="9" x2="15.01" y2="9" />
                                            </svg>
                                        </div>
                                        <input type="text" class="wa-chat-input" placeholder="Escribe un mensaje"
                                            readonly>
                                        <button class="wa-send-button">
                                            <svg viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="wa-response-badge">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <polyline points="12 6 12 12 16 14" />
                                </svg>
                                <span>Respuesta en 3 segundos</span>
                            </div>
                        </div>

                        <!-- Columna derecha -->
                        <div class="wa-content-col wa-content-right">
                            <h3 class="wa-features-title">¿Qué Puede Responder?</h3>
                            <div class="wa-feature-list">
                                <div class="wa-feature-item">
                                    <div class="wa-feature-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path
                                                d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" />
                                        </svg>
                                    </div>
                                    <div class="wa-feature-content">
                                        <h4>Parámetros de Máquinas</h4>
                                        <p>Velocidades, avances, RPM y configuraciones específicas</p>
                                    </div>
                                </div>
                                <div class="wa-feature-item">
                                    <div class="wa-feature-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                                        </svg>
                                    </div>
                                    <div class="wa-feature-content">
                                        <h4>Tolerancias y Normas</h4>
                                        <p>ISO, AWS, UNE-EN y especificaciones técnicas</p>
                                    </div>
                                </div>
                                <div class="wa-feature-item">
                                    <div class="wa-feature-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                                        </svg>
                                    </div>
                                    <div class="wa-feature-content">
                                        <h4>Procedimientos ISO</h4>
                                        <p>Protocolos de calidad y procesos de fabricación</p>
                                    </div>
                                </div>
                                <div class="wa-feature-item">
                                    <div class="wa-feature-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                                        </svg>
                                    </div>
                                    <div class="wa-feature-content">
                                        <h4>Seguridad y Normativa</h4>
                                        <p>Cargas máximas, anclajes y requisitos OSHA</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="features-section">
                <div class="container">
                    <div class="section-header">
                        <div class="badge">
                            <div class="pulse-dot"></div> Cómo Funciona
                        </div>
                        <h2 class="section-title">El Sistema que Transforma su Planta</h2>
                    </div>
                    <div class="features-grid">
                        <div class="feature-card">
                            <span class="feature-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                    <line x1="16" y1="13" x2="8" y2="13" />
                                    <line x1="16" y1="17" x2="8" y2="17" />
                                    <polyline points="10 9 9 9 8 9" />
                                </svg>
                            </span>
                            <h4>Digitalización</h4>
                            <p>Extraemos el conocimiento de sus manuales técnicos y empleados expertos para crear su
                                base de
                                datos inteligente.</p>
                        </div>
                        <div class="feature-card">
                            <span class="feature-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                                </svg>
                            </span>
                            <h4>Acceso WhatsApp</h4>
                            <p>Ponemos al Encargado Digital en el móvil de cada operario. Tan fácil como enviar un
                                mensaje.
                            </p>
                        </div>
                        <div class="feature-card">
                            <span class="feature-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                                </svg>
                            </span>
                            <h4>Blindaje Operativo</h4>
                            <p>Al eliminar la duda, eliminamos el error. Respuestas precisas = decisiones correctas =
                                cero
                                retrabajos.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PRICING SECTION - REVOLUTION 2.0 -->
            <section class="pricing-revolution">
                <!-- Live Money Counter Background -->
                <div class="money-burn-overlay">
                    <div class="burn-particles" id="burn-particles"></div>
                </div>

                <div class="pricing-container">
                    <!-- PART 1: URGENCY HOOK -->
                    <div class="section-header">
                        <div class="badge">
                            <div class="pulse-dot"></div>
                            <span>EN ESTE MOMENTO</span>
                        </div>
                        <h2 class="section-title">
                            Mientras Lee Esto, Su Planta Está Perdiendo:
                        </h2>
                        <div class="live-counter-box">
                            <div class="glass-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" class="icon-fire"
                                    stroke="#f97316" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" />
                                </svg>
                            </div>
                            <div class="live-counter">
                                <div class="counter-label">Pérdida en Tiempo Real</div>
                                <div class="counter-value" id="live-money-counter">€0</div>
                                <div class="counter-rate">€127 cada hora que pasa</div>
                            </div>
                            <div class="counter-flames">
                                <div class="glass-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" class="icon-fire"
                                        stroke="#f97316" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PART 2: BEFORE/AFTER TRANSFORMATION -->
                    <div class="transformation-section">
                        <h3 class="transform-title">⚡ La Transformación Garantizada</h3>
                        <div class="before-after-grid">
                            <!-- BEFORE -->
                            <div class="transform-card card-before">
                                <div class="card-header header-bad">
                                    <span class="card-icon">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#FFFFFF"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="10" />
                                            <line x1="15" y1="9" x2="9" y2="15" />
                                            <line x1="9" y1="9" x2="15" y2="15" />
                                        </svg>
                                    </span>
                                    <span class="card-label">SIN PROSMART</span>
                                </div>
                                <div class="transform-content">
                                    <div class="stat-row stat-bad">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <polyline points="22 12 18 12 15 3 9 21 6 12 2 12" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            <strong>120</strong> interrupciones/día
                                        </div>
                                    </div>
                                    <div class="stat-row stat-bad">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <line x1="12" y1="1" x2="12" y2="23" />
                                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            <strong>€22.176</strong> perdidos/mes
                                        </div>
                                    </div>
                                    <div class="stat-row stat-bad">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <circle cx="12" cy="12" r="10" />
                                                <circle cx="9" cy="10" r="1.5" fill="currentColor" />
                                                <circle cx="15" cy="10" r="1.5" fill="currentColor" />
                                                <path d="M7 15 Q 12 13 17 15" stroke-width="2" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            <strong>8 min</strong> por cada duda
                                        </div>
                                    </div>
                                    <div class="stat-row stat-bad">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <polyline points="22 12 18 12 15 3 9 21 6 12 2 12" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            Encargado <strong>colapsado</strong>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- VS DIVIDER -->
                            <div class="vs-divider">
                                <div class="vs-circle">
                                    <span>VS</span>
                                </div>
                                <div class="vs-arrow">→</div>
                            </div>

                            <!-- AFTER -->
                            <div class="transform-card card-after">
                                <div class="card-header header-good">
                                    <span class="card-icon">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#FFFFFF"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="20 6 9 17 4 12" />
                                        </svg>
                                    </span>
                                    <span class="card-label">CON PROSMART</span>
                                </div>
                                <div class="transform-content">
                                    <div class="stat-row stat-good">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            <strong>3 segundos</strong> respuesta IA
                                        </div>
                                    </div>
                                    <div class="stat-row stat-good">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <line x1="12" y1="1" x2="12" y2="23" />
                                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            <strong>€15.523</strong> ahorrados/mes
                                        </div>
                                    </div>
                                    <div class="stat-row stat-good">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            <strong>-83%</strong> interrupciones
                                        </div>
                                    </div>
                                    <div class="stat-row stat-good">
                                        <span class="stat-icon">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <circle cx="12" cy="7" r="4" />
                                                <path d="M6 21v-3a6 6 0 0 1 12 0v3" />
                                                <path d="M9 14l3 3v4" />
                                                <path d="M15 14l-3 3v4" />
                                                <path d="M12 14v7" />
                                                <path d="M12 14l-1 2 1 2 1-2z" />
                                                <path d="M7 14h10" />
                                                <path d="M10.5 13l1.5-2 1.5 2" />
                                            </svg>
                                        </span>
                                        <div class="stat-text">
                                            Encargado <strong>liberado</strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PART 3: ZERO RISK FRAMEWORK -->
                    <div class="zero-risk-section">
                        <h3 class="risk-title">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                style="vertical-align: sub; margin-right: 8px; color: var(--primary);">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                            </svg>
                            Modelo Sin Riesgo Operativo
                        </h3>
                        <p class="risk-subtitle">
                            Inversión inicial transparente. Mantenimiento €0 si no entregamos resultados medibles.
                        </p>

                        <div class="guarantees-grid guarantees-centered">
                            <div class="guarantee-card">
                                <div class="guarantee-number">1</div>
                                <div class="guarantee-icon">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="18" y1="20" x2="18" y2="10" />
                                        <line x1="12" y1="20" x2="12" y2="4" />
                                        <line x1="6" y1="20" x2="6" y2="14" />
                                    </svg>
                                </div>
                                <h4>Resultados Medibles o Mantenimiento €0</h4>
                                <p>Usted paga el setup inicial. Si no reducimos sus interrupciones >70% con datos
                                    verificables,
                                    <strong>el mantenimiento es €0 hasta lograrlo.</strong>
                                </p>
                                <div class="guarantee-tag">Garantía Escrita</div>
                            </div>

                            <div class="guarantee-card">
                                <div class="guarantee-number">2</div>
                                <div class="guarantee-icon">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="12" y1="1" x2="12" y2="23" />
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                    </svg>
                                </div>
                                <h4>ROI Transparente</h4>
                                <p>Inversión clara desde día 1. El ahorro mensual cubre el costo total en 30 días.
                                    <strong>Sin sorpresas, sin letra pequeña.</strong>
                                </p>
                                <div class="guarantee-tag">Precio Fijo</div>
                            </div>
                        </div>

                        <!-- BIG NO-PAYMENT BOX -->
                        <div class="no-payment-hero">
                            <div class="no-payment-badge">
                                <span class="shield-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                                    </svg>
                                </span>
                                <span class="badge-text">MANTENIMIENTO €0</span>
                            </div>
                            <h3 class="no-payment-title">
                                Setup Inicial + <span class="highlight-green">Mantenimiento GRATIS</span> Hasta
                                Resultados
                            </h3>
                            <p class="no-payment-desc">
                                Paga el setup inicial (inversión transparente). El mantenimiento es <strong>€0 hasta que
                                    reduzcamos sus interrupciones >70%</strong>. Así de simple.
                            </p>
                            <div class="no-payment-formula">
                                <div class="formula-step">
                                    <div class="step-num">1</div>
                                    <div class="step-text">Setup <strong id="pricing-setup">€6,500</strong></div>
                                </div>
                                <div class="formula-arrow">→</div>
                                <div class="formula-step">
                                    <div class="step-num">2</div>
                                    <div class="step-text">Implementamos y <strong>medimos</strong></div>
                                </div>
                                <div class="formula-arrow">→</div>
                                <div class="formula-step">
                                    <div class="step-num">3</div>
                                    <div class="step-text">Reducción <strong>>70%</strong></div>
                                </div>
                                <div class="formula-arrow">→</div>
                                <div class="formula-step step-final">
                                    <div class="step-num">✓</div>
                                    <div class="step-text">Recién ahí mantenimiento <strong
                                            id="pricing-mant">€2,000</strong>/mes</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PART 4: ROI SHOWCASE -->
                    <div class="roi-showcase">
                        <h3 class="roi-title">💎 Su Retorno de Inversión</h3>
                        <div class="roi-visual">
                            <div class="roi-bar-container">
                                <div class="roi-label-top">Inversión Inicial</div>
                                <div class="roi-bar bar-investment">
                                    <span class="bar-value" id="roi-setup">€6,500</span>
                                </div>
                            </div>
                            <div class="roi-divider">
                                <div class="divider-text">RECUPERADO EN</div>
                                <div class="divider-time" id="roi-months">1 MES</div>
                            </div>
                            <div class="roi-bar-container">
                                <div class="roi-label-top">Ahorro Mensual</div>
                                <div class="roi-bar bar-savings" id="roi-savings-bar">
                                    <span class="bar-value">€15,523</span>
                                </div>
                            </div>
                        </div>
                        <div class="roi-stats">
                            <div class="roi-stat">
                                <div class="roi-stat-label">Ahorro Anual</div>
                                <div class="roi-stat-value">€186.276</div>
                            </div>
                            <div class="roi-stat">
                                <div class="roi-stat-label">Retorno de Inversión</div>
                                <div class="roi-stat-value" id="roi-percentage">2,86%</div>
                            </div>
                            <div class="roi-stat">
                                <div class="roi-stat-label">Tiempo de Recuperación</div>
                                <div class="roi-stat-value">30 días</div>
                            </div>
                        </div>
                    </div>

                    <!-- PART 5: SOCIAL PROOF -->
                    <div class="social-proof-badges">
                        <div class="proof-badge">
                            <div class="proof-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 22 V12 H21 V22" />
                                    <path d="M7 12 V6 H10 V12" />
                                    <path d="M14 12 V8 H17 V12" />
                                    <line x1="7" y1="15" x2="7" y2="17" />
                                    <line x1="11" y1="15" x2="11" y2="17" />
                                    <line x1="15" y1="15" x2="15" y2="17" />
                                    <line x1="7" y1="19" x2="7" y2="21" />
                                    <line x1="11" y1="19" x2="11" y2="21" />
                                    <line x1="15" y1="19" x2="15" y2="21" />
                                </svg>
                            </div>
                            <div class="proof-text">
                                <strong>25+</strong><br>
                                <span>Plantas optimizadas</span>
                            </div>
                        </div>
                        <div class="proof-badge">
                            <div class="proof-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon
                                        points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                                </svg>
                            </div>
                            <div class="proof-text">
                                <strong>4.9/5</strong><br>
                                <span>Satisfacción clientes</span>
                            </div>
                        </div>
                        <div class="proof-badge">
                            <div class="proof-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="1" x2="12" y2="23" />
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                                </svg>
                            </div>
                            <div class="proof-text">
                                <strong>€4.2M</strong><br>
                                <span>Ahorrados en total</span>
                            </div>
                        </div>
                        <div class="proof-badge">
                            <div class="proof-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f97316"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="22 12 18 12 15 3 9 21 6 12 2 12" />
                                </svg>
                            </div>
                            <div class="proof-text">
                                <strong>-78%</strong><br>
                                <span>Media interrupciones</span>
                            </div>
                        </div>
                    </div>

                    <!-- PART 6: MEGA CTA -->
                    <div class="mega-cta-section">
                        <div class="cta-urgency">⏰ Solo 3 implementaciones disponibles este mes</div>
                        <a href="#contacto" class="btn-mega-cta">
                            <span class="btn-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z" />
                                    <path
                                        d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z" />
                                    <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0" />
                                    <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5" />
                                </svg>
                            </span>
                            <span class="btn-text">Solicitar Análisis Gratuito</span>
                            <span class="btn-subtitle">Descubre cuánto puedes ahorrar →</span>
                        </a>
                        <div class="cta-reassurance">
                            ✓ Setup <span id="cta-setup">€6,500</span> &nbsp;&nbsp;|&nbsp;&nbsp; ✓ Mantenimiento <span
                                id="cta-mant">€2,000</span>/mes con resultados &nbsp;&nbsp;|&nbsp;&nbsp; ✓ Soporte 24/7
                        </div>
                    </div>
                </div>
            </section>

            <style>
                /* === PRICING REVOLUTION STYLES === */
                .pricing-revolution {
                    position: relative;
                    padding: 120px 0;
                    background: linear-gradient(180deg,
                            #0a0f1c 0%,
                            #0f1923 50%,
                            #0a0f1c 100%);
                    overflow: hidden;
                }

                .pricing-line-left,
                .pricing-line-right {
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    width: 3px;
                    background: rgba(249, 115, 22, 0.1);
                    z-index: 1;
                }

                .pricing-line-left {
                    left: 30px;
                }

                .pricing-line-right {
                    right: 30px;
                }

                .pricing-line-left::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 150px;
                    background: linear-gradient(180deg, #f97316, #ef4444, transparent);
                    animation: pricing-line-flow-down 3s linear infinite;
                    border-radius: 2px;
                }

                .pricing-line-right::before {
                    content: '';
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    width: 100%;
                    height: 150px;
                    background: linear-gradient(0deg, #f97316, #ef4444, transparent);
                    animation: pricing-line-flow-up 3s linear infinite;
                    border-radius: 2px;
                }

                @keyframes pricing-line-flow-down {
                    0% {
                        top: -150px;
                    }

                    100% {
                        top: 100%;
                    }
                }

                @keyframes pricing-line-flow-up {
                    0% {
                        bottom: -150px;
                    }

                    100% {
                        bottom: 100%;
                    }
                }

                .money-burn-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    pointer-events: none;
                    opacity: 0.4;
                }

                .burn-particles {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                }

                .pricing-container {
                    max-width: 1200px;
                    margin: 0 auto;
                    position: relative;
                    z-index: 2;
                }



                .live-counter-box {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 30px;
                    background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.1));
                    border: 3px solid rgba(239, 68, 68, 0.5);
                    border-radius: 24px;
                    padding: 50px;
                    margin: 0 auto;
                    max-width: 800px;
                    animation: counterGlow 3s ease-in-out infinite;
                }

                @keyframes counterGlow {

                    0%,
                    100% {
                        box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
                    }

                    50% {
                        box-shadow: 0 0 60px rgba(239, 68, 68, 0.6), 0 0 100px rgba(239, 68, 68, 0.3);
                    }
                }

                .counter-flames {
                    font-size: 4rem;
                    animation: flameFlicker 2s ease-in-out infinite;
                }

                @keyframes flameFlicker {

                    0%,
                    100% {
                        transform: scale(1) rotate(0deg);
                    }

                    25% {
                        transform: scale(1.1) rotate(-5deg);
                    }

                    75% {
                        transform: scale(0.95) rotate(5deg);
                    }
                }

                .live-counter {
                    flex: 1;
                }

                .counter-label {
                    font-size: 0.9rem;
                    color: var(--muted);
                    text-transform: uppercase;
                    letter-spacing: 2px;
                    margin-bottom: 12px;
                }

                .counter-value {
                    font-family: 'JetBrains Mono', monospace;
                    font-size: 5rem;
                    font-weight: 700;
                    color: var(--danger);
                    line-height: 1;
                    margin-bottom: 12px;
                    text-shadow: 0 0 40px rgba(239, 68, 68, 0.8);
                    animation: counterBounce 1s ease-in-out infinite;
                }

                @keyframes counterBounce {

                    0%,
                    100% {
                        transform: scale(1);
                    }

                    50% {
                        transform: scale(1.05);
                    }
                }

                .counter-rate {
                    font-size: 1.1rem;
                    color: #fca5a5;
                    font-weight: 600;
                }

                /* TRANSFORMATION SECTION */
                .transformation-section {
                    margin-bottom: 100px;
                }

                .transform-title,
                .risk-title,
                .roi-title {
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: 2.5rem;
                    letter-spacing: 2px;
                    text-align: center;
                    margin-bottom: 50px;
                    color: var(--text);
                }

                .before-after-grid {
                    display: grid;
                    grid-template-columns: 1fr auto 1fr;
                    gap: 30px;
                    align-items: center;
                }

                .transform-card {
                    background: rgba(255, 255, 255, 0.02);
                    border-radius: 24px;
                    overflow: hidden;
                    border: 2px solid var(--border);
                    transition: all 0.4s;
                }

                .transform-card:hover {
                    transform: translateY(-10px);
                    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
                }

                .card-header {
                    padding: 24px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 12px;
                    font-weight: 700;
                    font-size: 1.1rem;
                    letter-spacing: 2px;
                }

                .header-bad {
                    background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.1));
                    border-bottom: 2px solid rgba(239, 68, 68, 0.3);
                    color: #fca5a5;
                }

                .header-good {
                    background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(22, 163, 74, 0.1));
                    border-bottom: 2px solid rgba(34, 197, 94, 0.3);
                    color: #86efac;
                }

                .card-icon {
                    font-size: 1.8rem;
                }

                .transform-content {
                    padding: 32px 24px;
                }

                .stat-row {
                    display: flex;
                    align-items: center;
                    gap: 16px;
                    padding: 16px;
                    margin-bottom: 12px;
                    border-radius: 12px;
                    transition: all 0.3s;
                }

                .stat-bad {
                    background: rgba(239, 68, 68, 0.05);
                    border-left: 3px solid var(--danger);
                }

                .stat-good {
                    background: rgba(34, 197, 94, 0.05);
                    border-left: 3px solid var(--success);
                }

                .stat-row:hover {
                    transform: translateX(5px);
                }

                .stat-icon {
                    font-size: 1.8rem;
                }

                .stat-text {
                    font-size: 1rem;
                    color: var(--text);
                }

                .stat-text strong {
                    color: var(--primary);
                    font-size: 1.2rem;
                }

                .vs-divider {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 16px;
                }

                .vs-circle {
                    width: 80px;
                    height: 80px;
                    background: linear-gradient(135deg, var(--primary), var(--danger));
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: 2rem;
                    color: white;
                    box-shadow: 0 10px 40px rgba(249, 115, 22, 0.5);
                    animation: vsRotate 4s linear infinite;
                }

                @keyframes vsRotate {
                    0% {
                        transform: rotate(0deg);
                    }

                    100% {
                        transform: rotate(360deg);
                    }
                }

                .vs-arrow {
                    font-size: 3rem;
                    color: var(--primary);
                    animation: arrowBounce 1.5s ease-in-out infinite;
                }

                @keyframes arrowBounce {

                    0%,
                    100% {
                        transform: scaleX(1);
                        opacity: 0.7;
                    }

                    50% {
                        transform: scaleX(1.3);
                        opacity: 1;
                    }
                }

                /* ZERO RISK SECTION */
                .zero-risk-section {
                    margin-bottom: 100px;
                }

                .risk-subtitle {
                    text-align: center;
                    font-size: 1.15rem;
                    color: var(--muted);
                    max-width: 700px;
                    margin: -30px auto 50px;
                    line-height: 1.7;
                }

                .guarantees-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                    gap: 30px;
                    margin-bottom: 60px;
                }

                .guarantees-centered {
                    max-width: 900px;
                    margin-left: auto;
                    margin-right: auto;
                    grid-template-columns: repeat(2, 1fr);
                }

                .guarantee-card {
                    background: rgba(255, 255, 255, 0.02);
                    border: 2px solid var(--border);
                    border-radius: 20px;
                    padding: 40px 30px;
                    text-align: center;
                    position: relative;
                    overflow: hidden;
                    transition: all 0.4s;
                }

                .guarantee-card::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 4px;
                    background: linear-gradient(90deg, var(--primary), var(--success));
                    opacity: 0;
                    transition: opacity 0.3s;
                }

                .guarantee-card:hover {
                    transform: translateY(-10px);
                    border-color: rgba(34, 197, 94, 0.4);
                    box-shadow: 0 20px 60px rgba(34, 197, 94, 0.2);
                }

                .guarantee-card:hover::before {
                    opacity: 1;
                }

                .guarantee-number {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    width: 40px;
                    height: 40px;
                    background: rgba(249, 115, 22, 0.1);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: 1.5rem;
                    color: var(--primary);
                }

                .guarantee-icon {
                    font-size: 4rem;
                    margin-bottom: 20px;
                }

                .guarantee-card h4 {
                    font-size: 1.5rem;
                    color: var(--text);
                    margin-bottom: 16px;
                }

                .guarantee-card p {
                    color: var(--muted);
                    line-height: 1.7;
                    margin-bottom: 20px;
                }

                .guarantee-tag {
                    display: inline-block;
                    background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(22, 163, 74, 0.1));
                    color: var(--success);
                    padding: 8px 20px;
                    border-radius: 20px;
                    font-size: 0.85rem;
                    font-weight: 700;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                }

                /* NO PAYMENT HERO */
                .no-payment-hero {
                    background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 163, 74, 0.05));
                    border: 3px solid rgba(34, 197, 94, 0.4);
                    border-radius: 28px;
                    padding: 60px 50px;
                    text-align: center;
                    animation: heroGlow 3s ease-in-out infinite;
                }

                @keyframes heroGlow {

                    0%,
                    100% {
                        box-shadow: 0 0 30px rgba(34, 197, 94, 0.2);
                    }

                    50% {
                        box-shadow: 0 0 60px rgba(34, 197, 94, 0.4), 0 0 100px rgba(34, 197, 94, 0.2);
                    }
                }

                .no-payment-badge {
                    display: inline-flex;
                    align-items: center;
                    gap: 10px;
                    background: rgba(34, 197, 94, 0.2);
                    border: 1px solid rgba(34, 197, 94, 0.4);
                    padding: 10px 24px;
                    border-radius: 30px;
                    font-weight: 700;
                    color: var(--success);
                    text-transform: uppercase;
                    letter-spacing: 2px;
                    margin-bottom: 24px;
                }

                .shield-icon {
                    font-size: 1.3rem;
                }

                .no-payment-title {
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: clamp(2.2rem, 4.5vw, 3.5rem);
                    line-height: 1.2;
                    margin-bottom: 20px;
                    color: var(--text);
                }

                .highlight-red {
                    color: var(--danger);
                    text-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
                }

                .highlight-green {
                    color: var(--success);
                    text-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
                }

                .no-payment-desc {
                    font-size: 1.1rem;
                    color: var(--muted);
                    max-width: 800px;
                    margin: 0 auto 40px;
                    line-height: 1.8;
                }

                .no-payment-formula {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 20px;
                    flex-wrap: wrap;
                }

                .formula-step {
                    background: rgba(255, 255, 255, 0.03);
                    border: 1px solid var(--border);
                    border-radius: 16px;
                    padding: 20px 28px;
                    min-width: 180px;
                }

                .step-final {
                    background: rgba(34, 197, 94, 0.1);
                    border-color: rgba(34, 197, 94, 0.3);
                }

                .step-num {
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: 2rem;
                    color: var(--primary);
                    margin-bottom: 8px;
                }

                .step-text {
                    font-size: 0.95rem;
                    color: var(--text);
                }

                .formula-arrow {
                    font-size: 2.5rem;
                    color: var(--primary);
                }

                /* ROI SHOWCASE */
                .roi-showcase {
                    background: rgba(0, 0, 0, 0.3);
                    border-radius: 28px;
                    padding: 60px 50px;
                    margin-bottom: 80px;
                }

                .roi-visual {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    gap: 40px;
                    margin-bottom: 50px;
                }

                .roi-bar-container {
                    flex: 1;
                }

                .roi-label-top {
                    font-size: 0.9rem;
                    color: var(--muted);
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    margin-bottom: 12px;
                    text-align: center;
                }

                .roi-bar {
                    height: 80px;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-family: 'JetBrains Mono', monospace;
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: white;
                    position: relative;
                    overflow: hidden;
                }

                .bar-investment {
                    background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(37, 99, 235, 0.2));
                    border: 2px solid rgba(59, 130, 246, 0.6);
                }

                .bar-savings {
                    background: linear-gradient(135deg, rgba(34, 197, 94, 0.3), rgba(22, 163, 74, 0.2));
                    border: 2px solid var(--success);
                    animation: barGrow 2s ease-out forwards;
                }

                @keyframes barGrow {
                    from {
                        transform: scaleX(0);
                    }

                    to {
                        transform: scaleX(1);
                    }
                }

                .roi-divider {
                    text-align: center;
                }

                .divider-text {
                    font-size: 0.8rem;
                    color: var(--muted);
                    text-transform: uppercase;
                    letter-spacing: 2px;
                    margin-bottom: 8px;
                }

                .divider-time {
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: 3rem;
                    color: var(--success);
                    text-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
                }

                .roi-stats {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 30px;
                }

                .roi-stat {
                    text-align: center;
                    padding: 24px;
                    background: rgba(255, 255, 255, 0.02);
                    border-radius: 16px;
                    border: 1px solid var(--border);
                    transition: all 0.3s;
                }

                .roi-stat:hover {
                    background: rgba(34, 197, 94, 0.05);
                    border-color: rgba(34, 197, 94, 0.3);
                }

                .roi-stat-label {
                    font-size: 0.85rem;
                    color: var(--muted);
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    margin-bottom: 10px;
                }

                .roi-stat-value {
                    font-family: 'JetBrains Mono', monospace;
                    font-size: 2.2rem;
                    font-weight: 700;
                    color: var(--success);
                }

                /* SOCIAL PROOF */
                .social-proof-badges {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 24px;
                    margin-bottom: 80px;
                }

                .proof-badge {
                    display: flex;
                    align-items: center;
                    gap: 20px;
                    background: rgba(255, 255, 255, 0.02);
                    border: 1px solid var(--border);
                    border-radius: 16px;
                    padding: 24px;
                    transition: all 0.3s;
                }

                .proof-badge:hover {
                    background: rgba(249, 115, 22, 0.05);
                    border-color: rgba(249, 115, 22, 0.3);
                    transform: translateY(-5px);
                }

                .proof-icon {
                    font-size: 3rem;
                }

                .proof-text strong {
                    display: block;
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: 2rem;
                    color: var(--primary);
                    line-height: 1;
                }

                .proof-text span {
                    font-size: 0.85rem;
                    color: var(--muted);
                }

                /* MEGA CTA */
                .mega-cta-section {
                    text-align: center;
                    max-width: 700px;
                    margin: 0 auto;
                }

                .cta-urgency {
                    display: inline-block;
                    background: rgba(239, 68, 68, 0.1);
                    color: var(--danger);
                    padding: 14px 32px;
                    border-radius: 30px;
                    font-weight: 700;
                    font-size: 1rem;
                    margin-bottom: 28px;
                    animation: urgencyShake 3s ease-in-out infinite;
                    border: 1px solid rgba(239, 68, 68, 0.3);
                }

                @keyframes urgencyShake {

                    0%,
                    100% {
                        transform: translateX(0);
                    }

                    10%,
                    30%,
                    50%,
                    70%,
                    90% {
                        transform: translateX(-2px);
                    }

                    20%,
                    40%,
                    60%,
                    80% {
                        transform: translateX(2px);
                    }
                }

                .btn-mega-cta {
                    display: inline-flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 8px;
                    background: linear-gradient(135deg, var(--success), #16a34a);
                    color: white;
                    padding: 36px 70px;
                    border-radius: 70px;
                    text-decoration: none;
                    font-weight: 700;
                    box-shadow: 0 15px 50px rgba(34, 197, 94, 0.5);
                    transition: all 0.4s;
                    position: relative;
                    overflow: hidden;
                    margin-bottom: 24px;
                }

                .btn-mega-cta::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                    transition: left 0.6s;
                }

                .btn-mega-cta:hover::before {
                    left: 100%;
                }

                .btn-mega-cta:hover {
                    transform: translateY(-5px) scale(1.05);
                    box-shadow: 0 25px 70px rgba(34, 197, 94, 0.7);
                }

                .btn-icon {
                    font-size: 1.5rem;
                }

                .btn-text {
                    font-size: 1.6rem;
                    line-height: 1.3;
                }

                .btn-subtitle {
                    font-size: 1.1rem;
                    opacity: 0.95;
                    font-weight: 500;
                }

                .cta-reassurance {
                    font-size: 1rem;
                    color: var(--muted);
                }

                /* RESPONSIVE */
                @media (max-width: 968px) {
                    .before-after-grid {
                        grid-template-columns: 1fr;
                    }

                    .guarantees-centered {
                        grid-template-columns: 1fr;
                    }

                    .vs-divider {
                        flex-direction: row;
                    }

                    .vs-arrow {
                        transform: rotate(90deg);
                    }

                    .no-payment-formula {
                        flex-direction: column;
                    }

                    .formula-arrow {
                        transform: rotate(90deg);
                    }

                    .roi-visual {
                        flex-direction: column;
                    }

                    .live-counter-box {
                        flex-direction: column;
                    }
                }

                @media (max-width: 640px) {
                    .pricing-revolution {
                        padding: 80px 20px;
                    }

                    .counter-value {
                        font-size: 3.5rem;
                    }

                    .no-payment-hero,
                    .roi-showcase {
                        padding: 40px 24px;
                    }
                }

                .contact-section {
                    position: relative;
                }

                .contact-line-left,
                .contact-line-right {
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    width: 3px;
                    background: rgba(249, 115, 22, 0.1);
                    z-index: 1;
                }

                .contact-line-left {
                    left: 30px;
                }

                .contact-line-right {
                    right: 30px;
                }

                .contact-line-left::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 150px;
                    background: linear-gradient(180deg, #f97316, #ef4444, transparent);
                    animation: pricing-line-flow-down 3s linear infinite;
                    border-radius: 2px;
                }

                .contact-line-right::before {
                    content: '';
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    width: 100%;
                    height: 150px;
                    background: linear-gradient(0deg, #f97316, #ef4444, transparent);
                    animation: pricing-line-flow-up 3s linear infinite;
                    border-radius: 2px;
                }

                /* Modern UI Enhancements */
                .glass-card {
                    background: rgba(255, 255, 255, 0.03);
                    backdrop-filter: blur(12px);
                    -webkit-backdrop-filter: blur(12px);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
                }

                .text-gradient {
                    background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                }

                @media (max-width: 768px) {
                    .form-row {
                        flex-direction: column;
                        gap: 0;
                    }
                }
            </style>

            <style>
                /* ABOUT SECTION - DARK INDUSTRIAL REMASTER */
                .about-section {
                    padding: 80px 0;
                    background: var(--bg);
                    position: relative;
                    overflow: hidden;
                }

                /* Ambient Background Glow */
                .about-section::before {
                    content: '';
                    position: absolute;
                    top: 20%;
                    left: -20%;
                    width: 800px;
                    height: 800px;
                    background: radial-gradient(circle, rgba(249, 115, 22, 0.05) 0%, transparent 70%);
                    filter: blur(80px);
                    z-index: 0;
                }

                .about-container {
                    max-width: 1200px;
                    margin: 0 auto;
                    padding: 0 24px;
                    position: relative;
                    z-index: 2;
                }

                .about-header-wrapper {
                    text-align: center;
                    max-width: 900px;
                    margin: 0 auto 50px auto;
                }

                .about-header-title {
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: clamp(2.2rem, 5vw, 4.2rem);
                    line-height: 0.95;
                    margin-bottom: 0;
                    color: var(--text);
                    letter-spacing: 1px;
                }

                .about-header-title span {
                    display: block;
                    position: relative;
                    animation: revolutionGlow 3s ease-in-out infinite;
                    background: linear-gradient(135deg, var(--primary) 0%, #ff6b35 50%, var(--danger) 100%);
                    background-size: 200% 200%;
                    -webkit-background-clip: text;
                    background-clip: text;
                    -webkit-text-fill-color: transparent;
                }

                @keyframes revolutionGlow {

                    0%,
                    100% {
                        background-position: 0% 50%;
                        filter: drop-shadow(0 0 10px rgba(249, 115, 22, 0.3));
                    }

                    50% {
                        background-position: 100% 50%;
                        filter: drop-shadow(0 0 25px rgba(249, 115, 22, 0.6));
                    }
                }

                /* Text Columns */
                .about-intro-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 40px;
                    margin-bottom: 40px;
                    border-top: 1px solid rgba(255, 255, 255, 0.1);
                    padding-top: 30px;
                }

                .about-text-p {
                    font-family: 'Plus Jakarta Sans', sans-serif;
                    font-size: 1.15rem;
                    line-height: 1.8;
                    color: #cbd5e1;
                    font-weight: 400;
                }

                .about-text-p strong {
                    color: #ffffff;
                    font-weight: 700;
                }

                /* Portrait - Industrial Frame */
                .about-portrait-wrapper {
                    position: relative;
                    margin-bottom: 50px;
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    padding: 8px;
                    border-radius: 4px;
                    background: rgba(255, 255, 255, 0.02);
                    max-width: 450px;
                    margin-left: auto;
                    margin-right: auto;
                }

                /* Corner accents */
                .corner-accent {
                    position: absolute;
                    width: 20px;
                    height: 20px;
                    border: 2px solid var(--primary);
                    transition: all 0.3s ease;
                }

                .tl {
                    top: -1px;
                    left: -1px;
                    border-bottom: 0;
                    border-right: 0;
                }

                .tr {
                    top: -1px;
                    right: -1px;
                    border-bottom: 0;
                    border-left: 0;
                }

                .bl {
                    bottom: -1px;
                    left: -1px;
                    border-top: 0;
                    border-right: 0;
                }

                .br {
                    bottom: -1px;
                    right: -1px;
                    border-top: 0;
                    border-left: 0;
                }

                .about-portrait-wrapper img {
                    width: 100%;
                    height: auto;
                    display: block;
                    filter: grayscale(20%) contrast(110%);
                    /* Moody look */
                    transition: filter 0.5s ease;
                }

                .about-portrait-wrapper:hover img {
                    filter: grayscale(0%) contrast(100%);
                }

                /* Gradient overlay on image bottom */
                .about-portrait-wrapper::after {
                    content: '';
                    position: absolute;
                    bottom: 10px;
                    left: 10px;
                    right: 10px;
                    height: 30%;
                    background: linear-gradient(to top, rgba(15, 23, 42, 0.9), transparent);
                    pointer-events: none;
                }

                /* Features Grid - Glass Cards */
                .about-features-grid {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 25px;
                    margin-bottom: 50px;
                }

                .feature-glass-card {
                    background: rgba(255, 255, 255, 0.03);
                    border: 1px solid rgba(255, 255, 255, 0.05);
                    backdrop-filter: blur(10px);
                    padding: 30px 25px;
                    border-radius: 2px;
                    /* Sharper industrial look */
                    transition: transform 0.3s ease, background 0.3s ease;
                    position: relative;
                    overflow: hidden;
                }

                .feature-glass-card:hover {
                    transform: translateY(-5px);
                    background: rgba(255, 255, 255, 0.05);
                    border-color: rgba(249, 115, 22, 0.3);
                }

                .feature-num {
                    font-family: 'JetBrains Mono', monospace;
                    color: var(--primary);
                    font-size: 0.9rem;
                    margin-bottom: 20px;
                    display: inline-block;
                    padding: 4px 8px;
                    background: rgba(249, 115, 22, 0.1);
                    border-radius: 4px;
                }

                .feature-title {
                    font-family: 'Bebas Neue', sans-serif;
                    font-size: 2rem;
                    color: var(--text);
                    margin-bottom: 18px;
                    letter-spacing: 1px;
                }

                .feature-desc {
                    font-size: 1.05rem;
                    color: #cbd5e1;
                    line-height: 1.7;
                    font-weight: 400;
                }

                /* Mission/Vision - Split Layout */
                .mission-vision-container {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 0;
                    /* Seamless border look */
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    border-radius: 4px;
                    overflow: hidden;
                }

                .mv-block {
                    padding: 60px;
                    background: rgba(0, 0, 0, 0.2);
                    border-right: 1px solid rgba(255, 255, 255, 0.1);
                }

                .mv-block:last-child {
                    border-right: none;
                }

                .mv-label {
                    text-transform: uppercase;
                    letter-spacing: 2px;
                    color: var(--primary);
                    font-weight: 700;
                    font-size: 0.8rem;
                    margin-bottom: 20px;
                    display: block;
                }

                .mv-text {
                    font-size: 1.2rem;
                    color: var(--text);
                    line-height: 1.6;
                    font-weight: 400;
                }

                @media (max-width: 900px) {
                    .about-intro-grid {
                        grid-template-columns: 1fr;
                        gap: 30px;
                    }

                    .about-features-grid {
                        grid-template-columns: 1fr;
                    }

                    .mission-vision-container {
                        grid-template-columns: 1fr;
                    }

                    .mv-block {
                        border-right: none;
                        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                        padding: 40px;
                    }
                }

                /* Modern UI Enhancements */
                .glass-card {
                    background: rgba(255, 255, 255, 0.03);
                    backdrop-filter: blur(12px);
                    -webkit-backdrop-filter: blur(12px);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
                }

                .text-gradient {
                    background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                }
            </style>

            <section class="about-section" id="nosotros">
                <!-- Neural Network Background Canvas -->
                <canvas id="about-neural-bg"
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;"></canvas>

                <div class="about-container">
                    <!-- Header -->
                    <div class="about-header-wrapper">
                        <h2 class="about-header-title">
                            DE LA PLANTA DE FABRICACIÓN <br>
                            <span>A LA REVOLUCIÓN INDUSTRIAL</span>
                        </h2>
                    </div>

                    <!-- Intro Text -->
                    <div class="about-intro-grid">
                        <p class="about-text-p">
                            <strong>Mi nombre es Víctor Marquina.</strong> Mi escuela no fue una oficina con aire
                            acondicionado, sino el suelo vibrante de las fábricas de andamios. Allí, entre el ruido de
                            las cortadoras y el olor a metal, entendí una verdad dolorosa: en nuestro sector, cada
                            minuto que un operario pasa dudando es beneficio que se evapora.
                        </p>
                        <p class="about-text-p">
                            Tras años viendo cómo la rentabilidad se escapaba por las grietas de la falta de
                            información, fundé <strong>ProSmart Factories</strong>. Mi objetivo no es venderle software,
                            es simple: que ningún dueño de fábrica vuelva a financiar los "brazos cruzados" por culpa de
                            manuales inaccesibles o encargados saturados.
                        </p>
                    </div>

                    <!-- Industrial Framed Image -->
                    <div class="about-portrait-wrapper">
                        <span class="corner-accent tl"></span>
                        <span class="corner-accent tr"></span>
                        <span class="corner-accent bl"></span>
                        <span class="corner-accent br"></span>
                        <img src="assets/images/VictorMarquina_Optimized.jpg" alt="Victor Marquina CEO" loading="lazy">
                    </div>

                    <!-- Glass Features -->
                    <div class="about-features-grid">
                        <div class="feature-glass-card">
                            <span class="feature-num">01</span>
                            <h3 class="feature-title">Especialización Real</h3>
                            <p class="feature-desc">No soy un informático teórico. Soy un especialista que ha respirado
                                polvo de aluminio. Hablo su idioma, conozco sus máquinas y entiendo sus urgencias mejor
                                que nadie.</p>
                        </div>
                        <div class="feature-glass-card">
                            <span class="feature-num">02</span>
                            <h3 class="feature-title">Simplicidad Extrema</h3>
                            <p class="feature-desc">Diseñado para dedos manchados de grasa y guantes de trabajo. Si su
                                operario sabe enviar un audio de WhatsApp, ya sabe usar nuestra tecnología. Cero
                                fricción.</p>
                        </div>
                        <div class="feature-glass-card">
                            <span class="feature-num">03</span>
                            <h3 class="feature-title">Compromiso Total</h3>
                            <p class="feature-desc">Mi política es radical: si usted no ahorra tiempo y dinero, yo no
                                tengo derecho a cobrar. Implementamos con precisión quirúrgica para garantizar el ROI.
                            </p>
                        </div>
                    </div>

                    <!-- Mission Vision Blocks -->
                    <div class="mission-vision-container">
                        <div class="mv-block">
                            <span class="mv-label">Nuestra Visión</span>
                            <p class="mv-text">Convertirnos en el estándar de inteligencia operativa, demostrando que
                                una fábrica tradicional puede funcionar con la precisión de un reloj suizo y la agilidad
                                de una startup tecnológica.</p>
                        </div>
                        <div class="mv-block">
                            <span class="mv-label">Nuestra Misión</span>
                            <p class="mv-text">Devolver el control a los dueños de fábricas democratizando el
                                conocimiento técnico. Eliminar la dependencia del "imprescindible" y convertir el saber
                                empresa en un activo 24/7.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="contact-section" id="contacto">
                <div class="container">
                    <div class="section-header">
                        <div class="badge">
                            <div class="pulse-dot"></div> Contacto
                        </div>
                        <h2 class="section-title">Solicite Su Diagnóstico Gratuito</h2>
                        <p class="section-sub">Complete el formulario y un especialista le contactará en menos de 24
                            horas
                        </p>
                    </div>
                    <div class="form-wrapper">
                        <form class="contact-form" id="contact-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nombre <span class="required">*</span></label>
                                    <input type="text" class="form-input" id="form-nombre" required
                                        placeholder="Su nombre">
                                </div>
                                <div class="form-group">
                                    <label>Empresa <span class="required">*</span></label>
                                    <input type="text" class="form-input" id="form-empresa" required
                                        placeholder="Nombre de su empresa">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Email <span class="required">*</span></label>
                                    <input type="email" class="form-input" id="form-email" required
                                        placeholder="email@empresa.com">
                                </div>
                                <div class="form-group">
                                    <label>Teléfono</label>
                                    <input type="tel" class="form-input" id="form-telefono"
                                        placeholder="+34 600 000 000">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Sector Industrial <span class="required">*</span></label>
                                <select class="form-select" id="form-sector" required>
                                    <option value="">Seleccione su sector...</option>
                                    <option value="aluminio">Fabricación de Aluminio</option>
                                    <option value="andamios">Andamios y Estructuras</option>
                                    <option value="mecanizado">Mecanizado CNC</option>
                                    <option value="soldadura">Soldadura Industrial</option>
                                    <option value="montaje">Montaje y Ensamblaje</option>
                                    <option value="otro">Otro sector manufacturero</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Número de Operarios <span class="required">*</span></label>
                                <select class="form-select" id="form-operarios" required>
                                    <option value="">Seleccione un rango...</option>
                                    <option value="5-20">5-20 operarios</option>
                                    <option value="21-50">21-50 operarios</option>
                                    <option value="51-100">51-100 operarios</option>
                                    <option value="100+">Más de 100 operarios</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>¿Cuál es su mayor dolor de cabeza hoy? <span class="required">*</span></label>
                                <select class="form-select" id="form-dolor" required>
                                    <option value="">Seleccione una opción...</option>
                                    <option value="operarios-preguntan">Operarios que preguntan lo mismo mil veces
                                    </option>
                                    <option value="errores-tecnicos">Errores técnicos y material desperdiciado</option>
                                    <option value="dependencia-encargado">Dependencia total del encargado/maestro de
                                        taller
                                    </option>
                                    <option value="paradas-maquinas">Paradas constantes de máquinas por dudas</option>
                                    <option value="formacion-lenta">Formación de nuevos operarios muy lenta</option>
                                    <option value="otro">Otro problema operativo</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Mensaje adicional</label>
                                <textarea id="form-mensaje" placeholder="¿Algo más que debamos saber?"></textarea>
                            </div>
                            <button type="submit" class="btn-submit">Solicitar Diagnóstico Gratuito →</button>
                        </form>
                        <p class="form-disclaimer">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                style="vertical-align: text-bottom; margin-right: 4px;">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
                            </svg>
                            Sus datos están seguros. No compartimos información con terceros. Al enviar, acepta nuestra
                            política de privacidad.
                        </p>
                    </div>
                </div>
            </section>
        </div> <!-- FIN wa-continuous-block -->

        <footer class="footer">
            <div class="footer-content">
                <div class="footer-grid">
                    <div class="footer-brand">
                        <a href="#" class="footer-logo">
                            <img src="assets/images/Logo_PSF_Blanco.png" alt="ProSmart Factories">
                        </a>
                        <p>Líderes en Inteligencia Operativa Industrial. Transformamos la manera en que las plantas
                            manufactureras gestionan el conocimiento técnico.</p>
                    </div>
                    <div class="footer-links">
                        <h4>Soluciones</h4>
                        <a href="#calculadora">Calculadora de Pérdidas</a>
                        <a href="#demo">Demo WhatsApp</a>
                        <a href="#problema">El Problema</a>
                    </div>
                    <div class="footer-links">
                        <h4>Empresa</h4>
                        <a href="#nosotros">Sobre Nosotros</a>
                        <a href="https://prosmart-demo.vercel.app/nuestra-solucion.html">Nuestra Solución</a>
                        <a href="#contacto">Contacto</a>
                    </div>
                    <div class="footer-links">
                        <h4>Legal</h4>
                        <a href="politica-privacidad.html">Política de Privacidad</a>
                        <a href="aviso-legal.html">Aviso Legal</a>
                        <a href="politica-cookies.html">Cookies</a>
                    </div>
                </div>
            </div>
        </footer>
    </main>

    <div class="sticky-cta" id="sticky-cta" style="transform: translateY(100%); opacity: 0;">
        <div class="sticky-cta-text">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" style="vertical-align: text-bottom; margin-right: 6px;">
                <line x1="12" y1="1" x2="12" y2="23" />
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
            </svg>
            Su planta está perdiendo dinero ahora mismo
        </div>
        <a href="#calculadora" class="sticky-cta-btn">Calcular Pérdidas</a>
    </div>

    <!-- Cookie Banner -->
    <div class="cookie-banner" id="cookie-banner">
        <div class="cookie-content">
            <div class="cookie-icon">🍪</div>
            <div class="cookie-text">
                <p>Utilizamos cookies propias y de terceros para mejorar tu experiencia. Al continuar navegando, aceptas
                    nuestra <a href="politica-cookies.html">Política de Cookies</a>.</p>
            </div>
            <div class="cookie-actions">
                <button class="cookie-btn cookie-btn-accept" id="cookie-accept">Aceptar</button>
                <a href="politica-cookies.html" class="cookie-btn cookie-btn-more">Más info</a>
            </div>
        </div>
    </div>

    <style>
        /* Cookie Banner Styles */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 9999;
            background: rgba(17, 24, 39, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(249, 115, 22, 0.3);
            padding: 20px 40px;
            transform: translateY(0);
            opacity: 1;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s ease;
        }

        .cookie-banner.hidden {
            transform: translateY(100%);
            opacity: 0;
            pointer-events: none;
        }

        .cookie-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .cookie-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .cookie-text {
            flex: 1;
            min-width: 300px;
        }

        .cookie-text p {
            color: var(--muted);
            font-size: 0.9rem;
            margin: 0;
            line-height: 1.6;
        }

        .cookie-text a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        .cookie-text a:hover {
            text-decoration: underline;
        }

        .cookie-actions {
            display: flex;
            gap: 12px;
            flex-shrink: 0;
        }

        .cookie-btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 0.85rem;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: inherit;
        }

        .cookie-btn-accept {
            background: linear-gradient(135deg, var(--primary), var(--danger));
            color: white;
            box-shadow: 0 4px 20px rgba(249, 115, 22, 0.3);
        }

        .cookie-btn-accept:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(249, 115, 22, 0.4);
        }

        .cookie-btn-more {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .cookie-btn-more:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary);
        }

        @media (max-width: 768px) {
            .cookie-banner {
                padding: 16px 20px;
            }

            .cookie-content {
                flex-direction: column;
                text-align: center;
            }

            .cookie-text {
                min-width: auto;
            }

            .cookie-actions {
                width: 100%;
                justify-content: center;
            }
        }

        /* Modern UI Enhancements */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .text-gradient {
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>

    <script>
        // Cookie Banner & Sticky CTA Logic
        (function () {
            const cookieBanner = document.getElementById('cookie-banner');
            const cookieAccept = document.getElementById('cookie-accept');
            const stickyCta = document.getElementById('sticky-cta');

            let scrollStartTime = null;
            let cookieHidden = false;
            let ctaShown = false;

            // Check if cookies already accepted
            if (localStorage.getItem('cookiesAccepted') === 'true') {
                cookieBanner.classList.add('hidden');
                cookieHidden = true;
            }

            // Accept cookies button
            cookieAccept.addEventListener('click', function () {
                localStorage.setItem('cookiesAccepted', 'true');
                cookieBanner.classList.add('hidden');
                cookieHidden = true;
            });

            // Hide cookie banner after 3 seconds of scrolling
            window.addEventListener('scroll', function () {
                if (cookieHidden) return;

                if (scrollStartTime === null) {
                    scrollStartTime = Date.now();
                }

                if (Date.now() - scrollStartTime >= 3000) {
                    cookieBanner.classList.add('hidden');
                    cookieHidden = true;
                    localStorage.setItem('cookiesAccepted', 'true');
                }
            });

            // Reset scroll timer if user stops scrolling
            let scrollTimeout;
            window.addEventListener('scroll', function () {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(function () {
                    if (!cookieHidden) {
                        scrollStartTime = null;
                    }
                }, 500);
            });

            // Show sticky CTA after 30 seconds
            setTimeout(function () {
                if (!ctaShown && stickyCta) {
                    stickyCta.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s ease';
                    stickyCta.style.transform = 'translateY(0)';
                    stickyCta.style.opacity = '1';
                    ctaShown = true;
                }
            }, 30000);
        })();
    </script>

    <div class="download-overlay" id="download-overlay">
        <div class="download-anim">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        </div>
        <div class="download-text">PREPARANDO LA AUDITORIA DE TU PLANTA</div>
    </div>
    <style>
        /* Orange Particles CSS */
        .orange-particle {
            position: absolute;
            background: var(--primary);
            /* Orange */
            border-radius: 50%;
            opacity: 0.2;
            animation: wa-float-particle 20s infinite ease-in-out;
        }

        .orange-transition-section {
            position: relative;
            height: 400px;
            /* Visible height */
            background: var(--bg);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-top: 1px solid rgba(249, 115, 22, 0.1);
            border-bottom: 1px solid rgba(249, 115, 22, 0.1);
        }

        /* Modern UI Enhancements */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .text-gradient {
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));

        document.addEventListener('DOMContentLoaded', () => {
            // Priority 1: Interactive elements
            initCalculator();
            initTabs();
            initScrollEffects();
            initFormValidation();

            // Priority 2: Deferred animations
            if ('requestIdleCallback' in window) {
                requestIdleCallback(() => {
                    createParticles();
                    initHeroGSAP();
                    initTimelineGSAP();
                    initWhatsAppDemo();
                    initOrangeParticles();
                    initAboutNeuralBg();
                    initAboutGSAP();
                    initTimelineAdvanced();
                });
            } else {
                setTimeout(() => {
                    createParticles();
                    initHeroGSAP();
                    initTimelineGSAP();
                    initWhatsAppDemo();
                    initOrangeParticles();
                    initAboutNeuralBg();
                    initAboutGSAP();
                    initTimelineAdvanced();
                }, 2000);
            }

            initLossesAnimations();
            initLossCards();
            calcular();
        });

        function initAboutGSAP() {
            gsap.from(".about-header-title", {
                scrollTrigger: {
                    trigger: ".about-section",
                    start: "top 80%",
                    once: true
                },
                y: 50,
                opacity: 0,
                duration: 1,
                ease: "power3.out"
            });

            gsap.from(".about-text-p", {
                scrollTrigger: {
                    trigger: ".about-intro-grid",
                    start: "top 85%",
                    once: true
                },
                y: 30,
                opacity: 0,
                stagger: 0.2,
                duration: 0.8,
                ease: "power2.out"
            });

            gsap.from(".about-portrait-wrapper", {
                scrollTrigger: {
                    trigger: ".about-portrait-wrapper",
                    start: "top 85%",
                    once: true
                },
                scale: 0.9,
                opacity: 0,
                duration: 1,
                ease: "power2.out"
            });

            gsap.from(".feature-glass-card", {
                scrollTrigger: {
                    trigger: ".about-features-grid",
                    start: "top 85%",
                    once: true
                },
                y: 40,
                opacity: 0,
                stagger: 0.2,
                duration: 0.8,
                ease: "power2.out"
            });

            gsap.from(".mv-block", {
                scrollTrigger: {
                    trigger: ".mission-vision-container",
                    start: "top 85%",
                    once: true
                },
                x: (i) => i === 0 ? -50 : 50,
                opacity: 0,
                duration: 0.8,
                ease: "power2.out"
            });
        }

        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.width = (2 + Math.random() * 4) + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 25 + 's';
                particle.style.animationDuration = (15 + Math.random() * 15) + 's';
                container.appendChild(particle);
            }
            for (let i = 0; i < 12; i++) {
                const gear = document.createElement('div');
                gear.className = 'particle gear';
                gear.style.left = Math.random() * 100 + '%';
                gear.style.animationDelay = Math.random() * 30 + 's';
                gear.style.animationDuration = (20 + Math.random() * 15) + 's';
                container.appendChild(gear);
            }
        }

        // === GLOBAL NUMBER FORMATTING (Spanish Format) ===
        function formatNumber(num, decimals = 0) {
            if (typeof num !== 'number') num = parseFloat(num);
            if (isNaN(num)) return '0';

            // Check if number is whole
            const isWhole = num % 1 === 0;
            const decimalPlaces = isWhole ? 0 : (decimals || 2);

            // Format with Spanish locale: dot for thousands, comma for decimals
            return num.toLocaleString('es-ES', {
                minimumFractionDigits: decimalPlaces,
                maximumFractionDigits: decimalPlaces
            });
        }

        // Animated Counter Helper
        function animateValue(obj, start, end, duration, prefix = '', suffix = '') {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                obj.innerHTML = prefix + formatNumber(value) + suffix;
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                } else {
                    obj.innerHTML = prefix + formatNumber(end) + suffix;
                }
            };
            window.requestAnimationFrame(step);
        }

        let calcData = {};

        function initCalculator() {
            const sliders = [
                { id: 'slider-operarios', valId: 'val-operarios', suffix: '' },
                { id: 'slider-consultas', valId: 'val-consultas', suffix: '' },
                { id: 'slider-tiempo-consulta', valId: 'val-tiempo-consulta', suffix: ' min' },
                { id: 'slider-busqueda', valId: 'val-busqueda', suffix: ' min' },
                { id: 'slider-tiempo-encargado', valId: 'val-tiempo-encargado', suffix: ' min' },
                { id: 'slider-maquinas', valId: 'val-maquinas', suffix: '' },
                { id: 'slider-parada', valId: 'val-parada', suffix: ' min' },
                { id: 'slider-frecuencia', valId: 'val-frecuencia', suffix: ' veces' }
            ];

            sliders.forEach(s => {
                const slider = document.getElementById(s.id);
                const val = document.getElementById(s.valId);
                if (slider && val) {
                    updateSliderFill(slider);
                    slider.addEventListener('input', () => {
                        val.textContent = slider.value + s.suffix;
                        updateSliderFill(slider);
                        calcular();
                    });
                }
            });

            document.getElementById('select-turnos').addEventListener('change', () => {
                updateTurnosImpact();
                calcular();
            });

            ['input-salario', 'input-salario-encargado', 'input-piezas-hora', 'input-valor-pieza'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.addEventListener('input', () => {
                    requestAnimationFrame(calcular);
                });
            });

            updateTurnosImpact();
        }

        function updateSliderFill(slider) {
            const min = parseFloat(slider.min);
            const max = parseFloat(slider.max);
            const val = parseFloat(slider.value);
            const percentage = (val - min) / (max - min);

            // Eliminamos capas adicionales y usamos el fondo del propio input
            // 28px es el ancho del thumb, 14px es el radio de compensación
            const fillStop = `calc(14px + (100% - 28px) * ${percentage})`;

            slider.style.background = `linear-gradient(to right, 
                var(--primary) 0%, 
                var(--danger) ${fillStop}, 
                rgba(255, 255, 255, 0.1) ${fillStop}, 
                rgba(255, 255, 255, 0.1) 100%)`;

            // Limpieza: si existía el div .slider-fill de intentos anteriores, lo eliminamos
            const oldFill = slider.parentElement.querySelector('.slider-fill');
            if (oldFill) oldFill.remove();
        }

        function updateTurnosImpact() {
            const turnos = parseInt(document.getElementById('select-turnos').value);
            const texts = {
                1: 'Con 1 turno, pérdidas base calculadas',
                2: 'Con 2 turnos, las pérdidas se DUPLICAN',
                3: 'Con 3 turnos, las pérdidas se TRIPLICAN'
            };
            document.getElementById('turnos-impact-text').textContent = texts[turnos];
        }

        function calcular() {
            const operarios = parseInt(document.getElementById('slider-operarios').value);
            const turnos = parseInt(document.getElementById('select-turnos').value);
            const salarioOp = parseFloat(document.getElementById('input-salario').value);
            const consultas = parseInt(document.getElementById('slider-consultas').value);
            const tiempoConsulta = parseInt(document.getElementById('slider-tiempo-consulta').value);
            const tiempoBusqueda = parseInt(document.getElementById('slider-busqueda').value);
            const tiempoEncargado = parseInt(document.getElementById('slider-tiempo-encargado').value);
            const salarioEnc = parseFloat(document.getElementById('input-salario-encargado').value);
            const maquinas = parseInt(document.getElementById('slider-maquinas').value);
            const piezasHora = parseFloat(document.getElementById('input-piezas-hora').value);
            const valorPieza = parseFloat(document.getElementById('input-valor-pieza').value);
            const tiempoParada = parseInt(document.getElementById('slider-parada').value);
            const frecuencia = parseInt(document.getElementById('slider-frecuencia').value);
            const diasMes = 22;

            const tiempoTotalOpDia = (operarios * consultas * (tiempoConsulta + tiempoBusqueda)) / 60;
            const costoOpDia = tiempoTotalOpDia * salarioOp * turnos;
            const tiempoEncDia = (operarios * consultas * tiempoEncargado) / 60;
            const costoEncDia = tiempoEncDia * salarioEnc * turnos;
            const costoSalarioMes = (costoOpDia + costoEncDia) * diasMes;

            const paradasDia = maquinas * frecuencia * turnos;
            const minutosParadosDia = paradasDia * tiempoParada;
            const piezasPerdidasDia = (minutosParadosDia / 60) * piezasHora;
            const costoProduccionMes = piezasPerdidasDia * valorPieza * diasMes;

            const totalMes = costoSalarioMes + costoProduccionMes;
            const totalAnual = totalMes * 12;
            const horasMes = ((tiempoTotalOpDia + tiempoEncDia) * turnos * diasMes);
            const piezasMes = piezasPerdidasDia * diasMes;

            calcData = {
                operarios, turnos, salarioOp, consultas, tiempoConsulta,
                tiempoBusqueda, tiempoEncargado, salarioEnc, maquinas,
                piezasHora, valorPieza, tiempoParada, frecuencia,
                costoSalarioMes, costoProduccionMes, totalMes, totalAnual,
                horasMes, piezasMes
            };

            // Dashboard dinámico
            const consultasDia = operarios * consultas * turnos;
            const tiempoDia = tiempoTotalOpDia + tiempoEncDia;
            const costoDia = (costoOpDia + costoEncDia);
            const valorProdPerdidoDia = piezasPerdidasDia * valorPieza;
            const dineroQuemadoDia = costoDia + valorProdPerdidoDia;
            const dineroQuemadoSemana = dineroQuemadoDia * 5;

            const ahorro = totalMes * 0.70;

            // Lógica de precios (Tramos fijos vs Porcentaje >= 100k)
            let setup, mant;
            let isCustom = false;

            if (totalMes >= 100000) {
                setup = totalMes * 0.10;
                mant = totalMes * 0.03;
                isCustom = false;
            } else {
                if (operarios <= 20) { setup = 5000; mant = 1500; }
                else if (operarios <= 50) { setup = 8000; mant = 2000; }
                else if (operarios <= 100) { setup = 12000; mant = 3000; }
                else { isCustom = true; setup = 15000; mant = 4000; }
            }

            const profitMensual = ahorro - mant;
            const roi = isCustom ? "A consultar" : (profitMensual > setup ? 1 : Math.ceil(setup / (profitMensual || 1)));

            const salariosEquiv = Math.round(totalMes / 2500) || 0;
            const maquinasEquiv = Math.round(totalAnual / 25000) || 0;
            const base = totalMes / turnos;

            const updates = [
                ['metric-consultas-dia', consultasDia],
                ['metric-tiempo-dia', Math.round(tiempoDia) + 'h'],
                ['metric-costo-dia', Math.round(costoDia), '€'],
                ['metric-prod-valor', Math.round(valorProdPerdidoDia), '€'],
                ['insight-dinero-dia', Math.round(dineroQuemadoDia), '€'],
                ['insight-dinero-semana', Math.round(dineroQuemadoSemana), '€'],
                ['result-anual', totalAnual, '€'],
                ['result-salario', costoSalarioMes, '€'],
                ['result-produccion', costoProduccionMes, '€'],
                ['result-horas', Math.round(horasMes), '', ' hrs'],
                ['result-piezas', Math.round(piezasMes), '', ' un.'],
                ['ahorro-value', ahorro, '€'],
                ['inversion-ia', isCustom ? 'A consultar' : setup + mant, '€'],
                ['insight-salarios', salariosEquiv],
                ['insight-piezas', Math.round(piezasMes)],
                ['insight-maquinas', maquinasEquiv],
                ['insight-roi', roi],
                ['comp-1-turno', '€' + formatNumber(base)], // RESTORED LINE
                ['comp-2-turnos', '€' + formatNumber(base * 2)],
                ['comp-3-turnos', '€' + formatNumber(base * 3)],
                ['hemorragia-text', `Su planta pierde el equivalente a ${maquinasEquiv} máquinas de €25k al año.`],
                // PRICING SECTION dynamic updates
                ['pricing-setup', setup, '€'],
                ['pricing-mant', mant, '€'],
                ['roi-setup', setup, '€'],
                ['cta-setup', setup, '€'],
                ['cta-mant', mant, '€']
            ];

            updates.forEach(([id, val, prefix = '', suffix = '']) => {
                const el = document.getElementById(id);
                if (el) {
                    if (typeof val === 'number') {
                        // Check if we should animate (content changed significantly)
                        const currentVal = parseFloat(el.textContent.replace(/[^0-9.-]/g, '')) || 0;
                        if (Math.abs(currentVal - val) > 1) { // Only animate if difference is noticeable
                            animateValue(el, currentVal, val, 1000, prefix, suffix);
                        } else {
                            el.textContent = prefix + formatNumber(val) + suffix;
                        }
                    } else {
                        el.textContent = val;
                    }
                }
            });

            const totalEl = document.getElementById('result-total');
            if (totalEl) {
                // Use existing animateNumber for total or switch to animateValue
                animateValue(totalEl,
                    parseFloat(totalEl.textContent.replace(/[^0-9.-]/g, '')) || 0,
                    totalMes,
                    1500,
                    '€'
                );
            }

            updateGauge(totalMes);
        }

        // Form validation moved and unified to point to N8N

        // Remove existing animateNumber if not used, or keep for compatibility
        function animateNumber(element, newValue, duration = 800) {
            // Deprecated in favor of universal animateValue, but kept to prevent errors if called elsewhere
            animateValue(element, parseFloat(element.textContent.replace(/[^0-9.-]/g, '')) || 0, newValue, duration, '€', '');
        }

        function updateGauge(value) {
            const maxValue = 200000;
            const percentage = Math.min(value / maxValue, 1);
            const dashOffset = 283 - (percentage * 283);
            const gauge = document.getElementById('gauge-progress');
            const needle = document.getElementById('gauge-needle');
            const level = document.getElementById('crisis-level');

            gauge.style.strokeDashoffset = dashOffset;

            let color, text;
            if (percentage < 0.33) {
                color = '#22c55e';
                text = 'BAJO';
            } else if (percentage < 0.66) {
                color = '#eab308';
                text = 'MEDIO';
            } else {
                color = '#ef4444';
                text = 'CRÍTICO';
            }
            gauge.style.stroke = color;
            level.textContent = text;
            level.style.color = color;

            const angle = -90 + (percentage * 180);
            needle.style.transform = `rotate(${angle}deg)`;
        }

        function formatNumber(num, decimals = 0) {
            return num.toLocaleString('es-ES', {
                minimumFractionDigits: decimals,
                maximumFractionDigits: decimals
            });
        }

        function initTabs() {
            document.querySelectorAll('.calc-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.calc-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.calc-panel').forEach(p => p.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById('panel-' + tab.dataset.tab).classList.add('active');
                });
            });
        }

        function initScrollEffects() {
            const header = document.getElementById('header');
            const progress = document.getElementById('scroll-progress');
            const stickyCta = document.getElementById('sticky-cta');

            window.addEventListener('scroll', () => {
                const scrolled = window.scrollY > 100;
                header.classList.toggle('scrolled', scrolled);
                stickyCta.classList.toggle('visible', window.scrollY > 500);

                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = (window.scrollY / docHeight) * 100;
                progress.style.width = scrollPercent + '%';
            });
        }

        function initHeroGSAP() {
            const tl = gsap.timeline({
                defaults: {
                    ease: "power3.out",
                    duration: 0.8
                }
            });

            tl.fromTo(".hero-title",
                { y: 60, opacity: 0 },
                { y: 0, opacity: 1, duration: 1 }
            )
                .fromTo(".hero-sub",
                    { y: 40, opacity: 0 },
                    { y: 0, opacity: 1, duration: 0.8 },
                    "-=0.4"
                )
                .fromTo(".hero-feat",
                    { y: 30, opacity: 0 },
                    { y: 0, opacity: 1, stagger: 0.1, duration: 0.6 },
                    "-=0.3"
                )
                .fromTo(".hero-btns > *",
                    { y: 20, opacity: 0 },
                    { y: 0, opacity: 1, stagger: 0.1, duration: 0.5 },
                    "-=0.2"
                )
                .fromTo(".hero-stat",
                    { y: 20, opacity: 0 },
                    { y: 0, opacity: 1, stagger: 0.1, duration: 0.5 },
                    "-=0.3"
                );
        }

        function initTimelineGSAP() {
            const items = gsap.utils.toArray('.timeline-item');

            items.forEach((item, i) => {
                // Main card animation
                gsap.from(item, {
                    scrollTrigger: {
                        trigger: item,
                        start: "top 85%",
                        end: "top 50%",
                        scrub: false,
                        once: true
                    },
                    y: 80,
                    opacity: 0,
                    duration: 0.8,
                    ease: "power2.out"
                });

                // Node circle animation
                const node = item.querySelector('.node-circle');
                if (node) {
                    gsap.from(node, {
                        scrollTrigger: {
                            trigger: item,
                            start: "top 75%",
                            once: true
                        },
                        scale: 0,
                        rotation: 180,
                        duration: 0.6,
                        ease: "back.out(1.4)",
                        delay: 0.2
                    });
                }

                // Visual column animation
                const visual = item.querySelector('.timeline-visual');
                if (visual) {
                    gsap.from(visual, {
                        scrollTrigger: {
                            trigger: item,
                            start: "top 80%",
                            once: true
                        },
                        x: i % 2 === 0 ? 50 : -50,
                        opacity: 0,
                        duration: 0.8,
                        ease: "power2.out",
                        delay: 0.3
                    });
                }
            });
        }

        /* NUEVA LÓGICA TIMELINE AVANZADO */
        function initTimelineAdvanced() {
            // Partículas
            const container = document.getElementById('particles-timeline');
            if (container) {
                for (let i = 0; i < 20; i++) {
                    const p = document.createElement('div');
                    p.className = 'particle';
                    p.style.cssText = `left:${Math.random() * 100}%; width:${2 + Math.random() * 4}px; height:2px; animation: floatP ${15 + Math.random() * 15}s infinite ease-in-out; animation-delay:${Math.random() * 20}s;`;
                    container.appendChild(p);
                }
                for (let i = 0; i < 8; i++) {
                    const g = document.createElement('div');
                    g.className = 'particle gear';
                    g.style.cssText = `left:${Math.random() * 100}%; animation: floatG ${20 + Math.random() * 15}s infinite linear; animation-delay:${Math.random() * 25}s;`;
                    container.appendChild(g);
                }
            }

            // Timer Loop 09:40 -> 15:00
            const timerEl = document.getElementById('timer-esc-1');
            let m = 9, s = 40;
            setInterval(() => {
                s++; if (s >= 60) { s = 0; m++; }
                if (m >= 15 && s > 0) { m = 9; s = 40; }
                if (timerEl) timerEl.textContent = `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
            }, 1000);

            // Loss Counter 0 -> 127
            const lossEl = document.getElementById('loss-adv-counter');
            let l = 0;
            setInterval(() => {
                l++; if (l > 127) l = 0;
                if (lossEl) lossEl.textContent = l;
            }, 60);

            // 3D Perspective en Card (Unificado con Timeline)
            document.querySelectorAll('.card-adv').forEach(card => {
                card.addEventListener('mousemove', e => {
                    const rect = card.getBoundingClientRect();
                    const x = (e.clientX - rect.left) / rect.width - 0.5;
                    const y = (e.clientY - rect.top) / rect.height - 0.5;
                    card.style.transition = 'transform 0.6s ease-out';
                    card.style.transform = `perspective(1000px) rotateY(${x * 4}deg) rotateX(${-y * 4}deg)`;
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transition = 'transform 0.6s ease-out';
                    card.style.transform = '';
                });
            });

            // Stats Scroll Animation
            const stats = [
                { id: 'stat-adv-hours', target: 47, current: 0 },
                { id: 'stat-adv-money', target: 8500, current: 0, prefix: '€' },
                { id: 'stat-adv-units', target: 230, current: 0 }
            ];

            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting) {
                    stats.forEach(s => {
                        const el = document.getElementById(s.id);
                        const step = s.target / 50;
                        const itv = setInterval(() => {
                            s.current += step;
                            if (s.current >= s.target) { s.current = s.target; clearInterval(itv); }
                            el.textContent = (s.prefix || '') + Math.floor(s.current).toLocaleString();
                        }, 30);
                    });
                    observer.disconnect();
                }
            }, { threshold: 0.2 });

            const ctaSection = document.querySelector('.cta-adv');
            if (ctaSection) observer.observe(ctaSection);
        }


        const conversations = [
            {
                operario: 1,
                nombre: "Carlos - Soldador",
                pregunta: "¿Qué amperaje uso para soldar aluminio 6061 de 4mm con TIG?",
                respuesta: "Para aluminio 6061 de 4mm con TIG, usa entre 140-160 amperios con corriente alterna (AC). Electrodo de tungsteno puro o zirconiado de 3.2mm. Gas argón puro al 100%, flujo de 12-15 L/min. Recuerda limpiar bien el óxido antes de soldar. 👍"
            },
            {
                operario: 2,
                nombre: "Miguel - CNC",
                pregunta: "La fresadora hace mucho ruido cortando aluminio 6082. ¿Qué parámetros ajusto?",
                respuesta: "El ruido indica vibración excesiva. Prueba: RPM entre 18,000-22,000, velocidad de avance 800-1200 mm/min, profundidad de pasada máx. 3mm (50% del diámetro de fresa). Usa fresa de 3 filos para aluminio y verifica que esté bien sujeta la pieza. 🔧"
            },
            {
                operario: 3,
                nombre: "Antonio - Calidad",
                pregunta: "¿Cuál es la tolerancia de planitud según ISO 1101 para una pieza clase B?",
                respuesta: "Para clase de tolerancia B según ISO 1101, la planitud depende de la dimensión nominal: hasta 100mm = 0.05mm, de 100-300mm = 0.1mm, de 300-1000mm = 0.2mm. Mide con regla de verificación y galgas de espesores en mínimo 5 puntos. ✅"
            },
            {
                operario: 4,
                nombre: "Pedro - Andamios",
                pregunta: "¿Cuál es la carga máxima para un andamio clase 3 según UNE-EN 12811?",
                respuesta: "Andamio clase 3 (uso general): carga máxima 2.0 kN/m² (200 kg/m²). Recuerda: plataformas mín. 60cm ancho, barandillas a 1m de altura, rodapiés de 15cm. Anclajes cada 4m de altura si supera 8m. La proporción altura:base no debe exceder 4:1. ⚠️"
            },
            {
                operario: 5,
                nombre: "Luis - Soldador",
                pregunta: "Se me agrietan las soldaduras MIG en aluminio. ¿Qué estoy haciendo mal?",
                respuesta: "Las grietas en aluminio MIG suelen ser por: 1) Velocidad muy alta - reduce un 15%, 2) Material sucio - limpia con acetona, 3) Gas incorrecto - usa argón puro, 4) Alambre inadecuado - para 6061 usa ER5356 o ER4043. También verifica que no haya corrientes de aire. 🛠️"
            },
            {
                operario: 6,
                nombre: "Javier - CNC",
                pregunta: "¿Qué código G uso para hacer un ciclo de taladrado profundo con evacuación de viruta?",
                respuesta: "Usa G83 - Ciclo de taladrado profundo (peck drilling). Formato: G83 X__ Y__ Z__ R__ Q__ F__. Donde Q es la profundidad de cada picoteo (recomiendo 1-2x diámetro de broca). Ejemplo para taladro de 8mm, prof. 40mm: G83 X50 Y30 Z-40 R2 Q8 F120. No olvides G80 para cancelar. 💻"
            },
            {
                operario: 7,
                nombre: "Roberto - Montaje",
                pregunta: "¿A qué par de apriete van los tornillos M12 clase 8.8 en las uniones del andamio?",
                respuesta: "Tornillos M12 clase 8.8: par de apriete recomendado 79-83 Nm (con lubricación) o 110-115 Nm (en seco). Para uniones críticas de andamio, usa siempre arandelas y verifica que las roscas estén limpias. Aprieta en patrón cruzado si hay varios tornillos. 🔩"
            },
            {
                operario: 8,
                nombre: "Fernando - Corte",
                pregunta: "¿Cuál es la velocidad de corte recomendada para sierra de cinta cortando aluminio 6063?",
                respuesta: "Para aluminio 6063 en sierra de cinta: velocidad de corte 300-600 m/min. Usa hoja bimetálica de 10-14 TPI. Avance moderado para evitar embotamiento. Aplica lubricante/refrigerante (taladrina al 10%). Si la hoja se embota rápido, reduce velocidad un 20%. ⚡"
            },
            {
                operario: 9,
                nombre: "David - Calidad",
                pregunta: "¿Cada cuánto hay que calibrar el pie de rey digital según ISO 17025?",
                respuesta: "Según ISO 17025, la frecuencia depende del uso: uso intensivo = cada 6 meses, uso moderado = cada 12 meses. Verificación diaria recomendada con bloque patrón. Documenta cada calibración. Si hay golpe o caída, recalibrar inmediatamente. Tolerancia típica ±0.02mm. 📏"
            },
            {
                operario: 10,
                nombre: "Alejandro - Soldador",
                pregunta: "¿Qué norma AWS aplica para soldadura estructural de aluminio y qué certificación necesito?",
                respuesta: "Aplica AWS D1.2 - Código de Soldadura Estructural para Aluminio. Certificación según ISO 9606-2. Necesitas: prueba práctica (cupón de prueba), examen visual, y ensayo de doblado (cara y raíz). La homologación cubre posiciones específicas según tu prueba. Renovación cada 2 años. 📋"
            }
        ];

        let currentConv = 0;
        const chatArea = document.getElementById('chat-area');
        const operarioNum = document.getElementById('operario-number');

        function initWhatsAppDemo() {
            if (!chatArea) return;

            // Inicializar partículas
            const container = document.getElementById('wa-particles');
            if (container) {
                container.innerHTML = ''; // Limpiar si ya existen
                for (let i = 0; i < 20; i++) {
                    const p = document.createElement('div');
                    p.className = 'wa-particle';
                    const size = 4 + Math.random() * 8;
                    p.style.cssText = `
                        left: ${Math.random() * 100}%; 
                        width: ${size}px; 
                        height: ${size}px; 
                        animation-delay: ${Math.random() * 20}s;
                        bottom: -20px;
                    `;
                    container.appendChild(p);
                }
            }

            simulateConversation();
        }

        async function simulateConversation() {
            const conv = conversations[currentConv];
            operarioNum.textContent = conv.operario;
            chatArea.innerHTML = '';

            await sleep(1000);

            const outMsg = createMessage('out', conv.nombre, conv.pregunta);
            chatArea.appendChild(outMsg);
            chatArea.scrollTop = chatArea.scrollHeight;

            await sleep(2000);

            const typing = createTyping();
            chatArea.appendChild(typing);
            chatArea.scrollTop = chatArea.scrollHeight;

            await sleep(3000);
            typing.remove();

            const inMsg = createMessage('in', 'Encargado Digital', conv.respuesta);
            chatArea.appendChild(inMsg);
            chatArea.scrollTop = chatArea.scrollHeight;

            await sleep(5000);

            currentConv = (currentConv + 1) % conversations.length;
            simulateConversation();
        }

        function createMessage(type, sender, text) {
            const div = document.createElement('div');
            div.className = `message message-${type}`;
            const time = new Date().toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
            const check = type === 'out' ? '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>' : '';
            div.innerHTML = `
                <div class="message-bubble">
                    <div class="message-sender">${sender}</div>
                    ${text.replace(/\n/g, '<br>')}
                    <div class="message-time">${time} ${check}</div>
                </div>
            `;
            return div;
        }

        function createTyping() {
            const div = document.createElement('div');
            div.className = 'message message-in';
            div.innerHTML = `
                <div class="message-bubble">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            return div;
        }



        function scrollToContact() {
            document.getElementById('contacto').scrollIntoView({ behavior: 'smooth' });
        }

        async function descargarPDF() {
            const overlay = document.getElementById('download-overlay');
            overlay.classList.add('active');

            // Wait a bit for the animation to be seen
            await sleep(1500);

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('p', 'mm', 'a4');
            const pageWidth = 210;
            const pageHeight = 297;
            const margin = 15;

            // Colors
            const brandRed = [220, 38, 38];
            const brandPink = [254, 242, 242];
            const brandNavy = [30, 41, 59];
            const brandNavyDark = [15, 23, 42];
            const brandTeal = [20, 184, 166];
            const brandGray = [100, 116, 139];
            const brandLightGray = [248, 250, 252];
            const brandWhite = [255, 255, 255];

            // ========== PÁGINA 1: AUDITORÍA DE EFICIENCIA ==========

            // Header
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(22);
            doc.setTextColor(...brandNavyDark);
            doc.text('AUDITORÍA DE EFICIENCIA', margin, 20);

            doc.setFontSize(14);
            doc.setTextColor(...brandRed);
            doc.text('PROSMART FACTORIES AI', margin, 28);

            doc.setFontSize(8);
            doc.setTextColor(...brandGray);
            const fecha = new Date().toLocaleDateString('es-ES');
            const orderId = `#PS-${Math.floor(Math.random() * 9000000 + 1000000)}`;
            doc.text(`ORDEN: ${orderId}`, pageWidth - margin, 20, { align: 'right' });
            doc.text(`FECHA: ${fecha}`, pageWidth - margin, 25, { align: 'right' });

            // Red Line
            doc.setDrawColor(...brandRed);
            doc.setLineWidth(1.2);
            doc.line(margin, 35, pageWidth - margin, 35);

            // Impact Box
            let y = 45;
            doc.setFillColor(...brandPink);
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 65, 5, 5, 'F');

            doc.setFontSize(10);
            doc.setTextColor(...brandRed);
            doc.setFont('helvetica', 'bold');
            doc.text('IMPACTO MENSUAL DETECTADO', pageWidth / 2, y + 15, { align: 'center' });

            doc.setFontSize(54);
            doc.text(`€${formatNumber(calcData.totalMes)}/mes`, pageWidth / 2, y + 40, { align: 'center' });

            doc.setFontSize(11);
            doc.setTextColor(...brandNavy);
            doc.setFont('helvetica', 'normal');
            doc.text([
                `Su planta dejará de producir €${formatNumber(calcData.totalAnual)} en los próximos 12 meses si no interviene.`
            ], pageWidth / 2, y + 55, { align: 'center' });

            // Memoria de Cálculo Section
            y += 85;
            doc.setDrawColor(...brandNavy);
            doc.setLineWidth(1);
            doc.line(margin, y - 5, margin, y + 2);
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(...brandNavyDark);
            doc.text('MEMORIA DE CÁLCULO TRANSPARENTE', margin + 5, y);


            y += 10;
            doc.setFillColor(248, 250, 252); // brandLightGray
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 55, 3, 3, 'F');
            doc.setTextColor(15, 23, 42); // brandNavyDark
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(9);
            doc.text('CÁLCULO 1: SALARIOS (OPERARIOS + ENCARGADO)', margin + 5, y + 8);

            doc.setFont('helvetica', 'normal');
            doc.setFontSize(8);
            doc.setTextColor(30, 41, 59); // brandNavy
            const formulaSal = [
                `Operarios: ((${calcData.operarios}op × ${calcData.consultas}d × ${calcData.tiempoConsulta}min × €${calcData.salarioOp}/60) × ${calcData.turnos}T`,
                `Encargado: ((${calcData.operarios}op × ${calcData.consultas}d × ${calcData.turnos}T) × ${calcData.tiempoEncargado}min × €${calcData.salarioEnc}/60`
            ];
            doc.text(formulaSal, margin + 5, y + 18);

            // Total box - clean and light
            doc.setFillColor(255, 255, 255);
            doc.setDrawColor(220, 38, 38); // brandRed border
            doc.setLineWidth(0.4);
            doc.roundedRect(margin + 5, y + 36, pageWidth - (margin * 2) - 10, 14, 2, 2, 'FD');
            doc.setTextColor(220, 38, 38); // brandRed
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(10);
            doc.text(`Total Mensual Salarial (×22d): €${formatNumber(calcData.costoSalarioMes)}`, margin + 10, y + 45);

            // Calculation 2: Opportunity Cost
            y += 65;
            doc.setFillColor(248, 250, 252); // brandLightGray
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 50, 3, 3, 'F');
            doc.setTextColor(15, 23, 42); // brandNavyDark
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(9);
            doc.text('CÁLCULO 2: LUCRO CESANTE (MÁQUINAS)', margin + 5, y + 8);

            doc.setFont('helvetica', 'normal');
            doc.setFontSize(8);
            doc.setTextColor(30, 41, 59); // brandNavy
            const formulaProd = [
                `(${calcData.piezasHora}pz/h × €${calcData.valorPieza}) × (${calcData.tiempoParada}/60) × (${calcData.maquinas}p × ${calcData.frecuencia}m × ${calcData.turnos}T)`
            ];
            doc.text(formulaProd, margin + 5, y + 22);

            // Total box - clean and light
            doc.setFillColor(255, 255, 255);
            doc.setDrawColor(220, 38, 38); // brandRed border
            doc.setLineWidth(0.4);
            doc.roundedRect(margin + 5, y + 30, pageWidth - (margin * 2) - 10, 14, 2, 2, 'FD');
            doc.setTextColor(220, 38, 38); // brandRed
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(10);
            doc.text(`Total Mensual Lucro Cesante (×22d): €${formatNumber(calcData.costoProduccionMes)}`, margin + 10, y + 39);

            // ========== PÁGINA 2: GUÍA VISUAL "LOS AGUJEROS DEL DINERO" ==========
            doc.addPage();
            y = 25;

            // Header Section
            doc.setFillColor(15, 23, 42); // Navy
            doc.roundedRect(margin, y - 10, pageWidth - (margin * 2), 35, 3, 3, 'F');

            doc.setTextColor(255, 255, 255);
            doc.setFontSize(22);
            doc.setFont('helvetica', 'bold');
            doc.text('¿CÓMO SE ESCAPA EL DINERO?', pageWidth / 2, y + 5, { align: 'center' });

            doc.setFontSize(10);
            doc.setFont('helvetica', 'normal');
            doc.text('Explicación sencilla de por qué su planta no está ganando lo que debería.', pageWidth / 2, y + 15, { align: 'center' });

            y += 45;

            // --- THIEF 1: EL TIEMPO MUERTO ---
            doc.setFillColor(248, 250, 252); // Light Gray BG
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 55, 2, 2, 'F');

            // Left Accent Border
            doc.setFillColor(220, 38, 38); // Red
            doc.rect(margin, y, 4, 55, 'F');

            // Icon/Number Marker (CENTRADOS)
            doc.circle(margin + 20, y + 15, 6, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(10);
            doc.text('1', margin + 20, y + 17.2, { align: 'center' }); // Centrado corregido

            doc.setTextColor(220, 38, 38); // Red
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('AGUJERO 1: GENTE ESPERANDO (SALARIOS)', margin + 32, y + 15);

            doc.setTextColor(15, 23, 42); // Navy
            doc.setFontSize(9.5);
            doc.setFont('helvetica', 'bold');
            doc.text('El problema:', margin + 32, y + 25);
            doc.setFont('helvetica', 'normal');
            doc.text('Usted paga el sueldo completo, pero se pierde tiempo en dudas y búsquedas.', margin + 52, y + 25);

            const salPoints = [
                '• Si un operario para 5 min por una duda, es dinero que no vuelve.',
                '• Buscar al encargado por toda la nave es "quemar" billetes cada hora.',
                '• Si el jefe solo apaga fuegos, no tiene tiempo para hacer crecer la empresa.'
            ];
            doc.setTextColor(100, 116, 139); // Gray
            doc.text(salPoints, margin + 32, y + 34);

            y += 65;

            // --- THIEF 2: LA MÁQUINA PARADA ---
            doc.setFillColor(248, 250, 252); // Light Gray BG
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 55, 2, 2, 'F');

            // Left Accent Border
            doc.setFillColor(220, 38, 38); // Red
            doc.rect(margin, y, 4, 55, 'F');

            // Icon/Number Marker (CENTRADOS)
            doc.setFillColor(220, 38, 38);
            doc.circle(margin + 20, y + 15, 6, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(10);
            doc.text('2', margin + 20, y + 17.2, { align: 'center' }); // Centrado corregido

            doc.setTextColor(220, 38, 38); // Red
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('AGUJERO 2: MÁQUINAS SIN FABRICAR (PRODUCCIÓN)', margin + 32, y + 15);

            doc.setTextColor(15, 23, 42); // Navy
            doc.setFontSize(9.5);
            doc.setFont('helvetica', 'bold');
            doc.text('El impacto:', margin + 32, y + 25);
            doc.setFont('helvetica', 'normal');
            doc.text('La mayor pérdida es lo que DEJA DE GANAR cada minuto.', margin + 50, y + 25);

            const prodPoints = [
                '• Máquina parada = Piezas que no se venden.',
                '• Cada minuto sin fabricar es beneficio que desaparece para siempre.',
                '• Sumando todas las paradas del mes, la cifra es una auténtica hemorragia.'
            ];
            doc.setTextColor(100, 116, 139); // Gray
            doc.text(prodPoints, margin + 32, y + 34);

            // --- THE CONVERSION BRIDGE ---
            y += 65;
            doc.setDrawColor(20, 184, 166); // Teal
            doc.setLineWidth(1);
            doc.line(margin + 20, y, pageWidth - margin - 20, y);

            y += 10;
            doc.setTextColor(20, 184, 166); // Teal
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.text('CERRAMOS ESTOS AGUJEROS HOY MISMO.', pageWidth / 2, y, { align: 'center' });

            doc.setFontSize(10);
            doc.setFont('helvetica', 'normal');
            doc.setTextColor(30, 41, 59);
            doc.text('Toda la información técnica en el WhatsApp de su operario al instante.', pageWidth / 2, y + 8, { align: 'center' });

            // ========== PÁGINA 3: SOLUCIÓN Y CTA ==========
            doc.addPage();
            y = 20;

            // Pricing Logic (Tramos reales - Sincronizado con Web)
            const ops = calcData.operarios;
            let setup, mant;
            let isCustom = false;

            if (calcData.totalMes >= 100000) {
                setup = calcData.totalMes * 0.10;
                mant = calcData.totalMes * 0.03;
                isCustom = false;
            } else {
                if (ops <= 20) { setup = 5000; mant = 1500; }
                else if (ops <= 50) { setup = 8000; mant = 2000; }
                else if (ops <= 100) { setup = 12000; mant = 3000; }
                else { isCustom = true; setup = 15000; mant = 4000; }
            }

            const ahorro70 = calcData.totalMes * 0.7;
            const profitMensual = ahorro70 - (isCustom ? mant : mant);
            const roiMeses = isCustom ? "A consultar" : (profitMensual > setup ? '1 mes' : `${Math.ceil(setup / (profitMensual || 1))} meses`);

            // Estimated Solution Box (ESTILO DARK PREMIUM)
            doc.setDrawColor(20, 184, 166); // brandTeal
            doc.setLineWidth(1);
            doc.setFillColor(15, 23, 42); // brandNavyDark (Fondo oscuro)
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 100, 5, 5, 'FD');

            doc.setTextColor(255, 255, 255); // Blanco para el título
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('SOLUCIÓN ESTIMADA: NÚCLEO IA PROSMART', margin + 10, y + 12);

            doc.setFontSize(9);
            doc.setTextColor(255, 255, 255); // Blanco para el subtexto
            doc.setFont('helvetica', 'normal');
            doc.text('Infraestructura de Inteligencia Operativa personalizada según la escala de su planta.', margin + 10, y + 20);

            // Summary Cards inside Solution (4 CARDS)
            const cardW = (pageWidth - (margin * 2) - 30) / 2;
            const cardH = 22;

            // Fila 1: Ahorro y ROI
            // Card 1: Ahorro Líquido
            doc.setFillColor(30, 41, 59); // brandNavy
            doc.roundedRect(margin + 10, y + 28, cardW, cardH, 3, 3, 'F');
            doc.setFontSize(7);
            doc.setTextColor(200, 200, 200); // Light Gray subtext
            doc.setFont('helvetica', 'bold');
            doc.text('AHORRO LÍQUIDO / MES (EST.)', margin + 10 + cardW / 2, y + 34, { align: 'center' });
            doc.setFontSize(14);
            doc.setTextColor(34, 197, 94); // Green success for Net Savings
            doc.text(`€${formatNumber(ahorro70)}`, margin + 10 + cardW / 2, y + 44, { align: 'center' });

            // Card 2: ROI
            doc.setFillColor(30, 41, 59);
            doc.roundedRect(margin + 20 + cardW, y + 28, cardW, cardH, 3, 3, 'F');
            doc.setFontSize(7);
            doc.setTextColor(200, 200, 200);
            doc.text('R.O.I. ESTIMADO', margin + 20 + cardW + cardW / 2, y + 34, { align: 'center' });
            doc.setFontSize(14);
            doc.setTextColor(34, 197, 94); // Green success for ROI
            doc.text(roiMeses, margin + 20 + cardW + cardW / 2, y + 44, { align: 'center' });

            // Fila 2: Setup y Mantenimiento
            // Card 3: Inversión Setup
            doc.setFillColor(30, 41, 59);
            doc.roundedRect(margin + 10, y + 55, cardW, cardH, 3, 3, 'F');
            doc.setFontSize(7);
            doc.setTextColor(200, 200, 200);
            doc.text('INVERSIÓN SETUP (ÚNICA)', margin + 10 + cardW / 2, y + 61, { align: 'center' });
            doc.setFontSize(14);
            doc.setTextColor(255, 255, 255);
            doc.text(isCustom ? "A consultar" : `€${formatNumber(setup)}`, margin + 10 + cardW / 2, y + 71, { align: 'center' });

            // Card 4: Canon Mensual
            doc.setFillColor(30, 41, 59);
            doc.roundedRect(margin + 20 + cardW, y + 55, cardW, cardH, 3, 3, 'F');
            doc.setFontSize(7);
            doc.setTextColor(200, 200, 200);
            doc.text('MANTENIMIENTO MENSUAL', margin + 20 + cardW + cardW / 2, y + 61, { align: 'center' });
            doc.setFontSize(14);
            doc.setTextColor(255, 255, 255);
            doc.text(isCustom ? "A consultar" : `€${formatNumber(mant)}`, margin + 20 + cardW + cardW / 2, y + 71, { align: 'center' });

            doc.setFontSize(8);
            doc.setTextColor(200, 200, 200);
            doc.setFont('helvetica', 'italic');
            doc.text('*Cifras estimadas basadas en la magnitud de su operación.', margin + 10, y + 90);

            y += 110;
            // --- PREMIUM CONSULTANCY BLOCK (REDISEÑADO) ---
            doc.setDrawColor(15, 23, 42); // Navy Dark
            doc.setLineWidth(0.5);
            doc.setFillColor(248, 250, 252); // Light Gray BG
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 78, 4, 4, 'FD');

            // Block Header with Red STOP sign logic
            doc.setFillColor(220, 38, 38); // Red
            doc.roundedRect(margin, y, pageWidth - (margin * 2), 12, 4, 4, 'F');

            // Draw STOP emoji
            doc.setFontSize(12);
            // Señal de STOP (Dibujada para evitar problemas de fuentes con emojis)
            doc.setFillColor(255, 255, 255);
            doc.circle(margin + 20, y + 6, 4, 'F');
            doc.setTextColor(220, 38, 38);
            doc.setFontSize(10);
            doc.text('!', margin + 20, y + 7.5, { align: 'center' });

            doc.setTextColor(255, 255, 255);
            doc.setFontSize(10);
            doc.text('DETENGA ESTA HEMORRAGIA HOY MISMO', pageWidth / 2 + 10, y + 8.5, { align: 'center' });

            y += 22;
            doc.setTextColor(15, 23, 42);
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(13);
            doc.text('¿Desea recuperar estos beneficios en su planta?', margin + 10, y);

            y += 7;
            doc.setFontSize(10);
            doc.setFont('helvetica', 'normal');
            doc.setTextColor(30, 41, 59);

            const part1 = 'Agende una ';
            const part2 = 'Sesión Técnica de Diagnóstico (30 min)';
            const part3 = ' con ';
            const part4 = 'Victor Marquina';
            const part5 = ' para trazar su plan:';

            let currentX = margin + 10;

            doc.setFont('helvetica', 'normal');
            doc.text(part1, currentX, y);
            currentX += doc.getTextWidth(part1);

            doc.setFont('helvetica', 'bold');
            doc.text(part2, currentX, y);
            currentX += doc.getTextWidth(part2);

            doc.setFont('helvetica', 'normal');
            doc.text(part3, currentX, y);
            currentX += doc.getTextWidth(part3);

            doc.setFont('helvetica', 'bold');
            doc.text(part4, currentX, y);
            currentX += doc.getTextWidth(part4);

            doc.setFont('helvetica', 'normal');
            doc.text(part5, currentX, y);

            // Step List
            y += 10;
            doc.setFontSize(9.5);
            doc.setTextColor(100, 116, 139);
            doc.setFont('helvetica', 'bold');
            doc.text('1.', margin + 12, y);
            doc.setFont('helvetica', 'normal');
            doc.text('Validación de flujos y procesos críticos de su producción.', margin + 18, y);

            y += 6;
            doc.setFont('helvetica', 'bold');
            doc.text('2.', margin + 12, y);
            doc.setFont('helvetica', 'normal');
            doc.text('Diseño de arquitectura WhatsApp IA personalizada.', margin + 18, y);

            y += 6;
            doc.setFont('helvetica', 'bold');
            doc.text('3.', margin + 12, y);
            doc.setFont('helvetica', 'normal');
            doc.text('Hoja de costes y tiempos de despliegue final.', margin + 18, y);

            // Large Orange Button
            y += 12;
            const bWidth = 150;
            const bHeight = 16;
            const bX = (pageWidth - bWidth) / 2;
            doc.setFillColor(249, 115, 22); // Orange
            doc.roundedRect(bX, y, bWidth, bHeight, 8, 8, 'F');

            doc.setTextColor(255, 255, 255);
            doc.setFontSize(11);
            doc.setFont('helvetica', 'bold');
            doc.text('RESERVAR MI SESIÓN CON VICTOR MARQUINA', pageWidth / 2, y + 10.5, { align: 'center' });

            // Link on button
            const calUrl = 'https://cal.com/victor-marquina-pswr9h/prosmart-factories-diagnostico';
            doc.link(bX, y, bWidth, bHeight, { url: calUrl });

            y = pageHeight - 30;
            doc.setFontSize(7);
            doc.setTextColor(...brandGray);
            doc.setFont('helvetica', 'normal');
            const footerLines = [
                'Este informe es preliminar y se basa en los datos proporcionados durante el diagnóstico online.',
                'ProSmart Factories - Líderes en Inteligencia Operativa Industrial.'
            ];
            doc.text(footerLines, pageWidth / 2, y, { align: 'center' });

            // Save PDF
            doc.save(`Auditoria_ProSmart_${Date.now()}.pdf`);

            // Hide overlay
            overlay.classList.remove('active');
        }

        function initFormValidation() {
            const form = document.getElementById('contact-form');
            if (!form) return;
            const inputs = form.querySelectorAll('input[required], select[required], textarea[required]');

            const getSelectText = (id) => {
                const sel = document.getElementById(id);
                return sel ? sel.options[sel.selectedIndex].text : '';
            };

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                let isFormValid = true;
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        isFormValid = false;
                        input.classList.add('error');
                    } else {
                        input.classList.remove('error');
                    }
                });

                if (!isFormValid) {
                    const firstError = form.querySelector('.error');
                    if (firstError) firstError.focus();
                    return;
                }

                const btn = form.querySelector('button[type="submit"]');
                const originalText = btn.textContent;
                btn.textContent = 'Enviando...';
                btn.disabled = true;

                const data = {
                    'Nombre': document.getElementById('form-nombre').value,
                    'Empresa': document.getElementById('form-empresa').value,
                    'Email': document.getElementById('form-email').value,
                    'Teléfono': document.getElementById('form-telefono').value,
                    'Sector Industrial': getSelectText('form-sector'),
                    'Número de Operarios': getSelectText('form-operarios'),
                    '¿Cuál es su mayor dolor de cabeza hoy?': getSelectText('form-dolor'),
                    'Mensaje adicional': document.getElementById('form-mensaje').value,
                    'Source': 'Landing Page V2 (Unified)',
                    'Timestamp': new Date().toISOString()
                };

                try {
                    const response = await fetch('https://n8n-n8n.o871l0.easypanel.host/webhook-test/9fd72b96-f57a-45ae-80c1-3bfeeae3ecbd', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(data)
                    });

                    if (response.ok) {
                        form.innerHTML = `
                            <div class="success-message" style="text-align: center; padding: 40px; color: #22c55e;">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 20px;">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                                <h3 style="color: #f8fafc; margin-bottom: 10px;">¡Solicitud Recibida!</h3>
                                <p style="color: #94a3b8;">Un especialista analizará su caso y le contactará en menos de 24h.</p>
                            </div>
                        `;
                    } else {
                        throw new Error('Network response was not ok');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    btn.textContent = originalText;
                    btn.disabled = false;
                    alert('Hubo un error al enviar el formulario. Por favor, intente de nuevo.');
                }
            });
        }

        // === NÚCLEO DE INTERACTIVIDAD PROSMART (SOLUCIÓN BLINDADA DEFINITIVA) ===
        const startProSmartCore = () => {
            console.log('%c [SISTEMA] Activando Interfaz Industrial Premium... ', 'background:#f97316; color:white; font-weight:bold;');

            // 1. CRONÓMETRO PASO 03 (Garantizado: 08:01 - 20:00)
            const injectTimer = () => {
                const el = document.getElementById('tp-timer-val');
                if (!el) return;
                let m = 8, s = 1;
                setInterval(() => {
                    s++; if (s >= 60) { s = 0; m++; }
                    if (m >= 20) { m = 8; s = 1; }
                    el.textContent = `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
                }, 1000);
            };

            // 2. EFECTO 3D SUAVE (Corregido - transiciones suaves)
            const inject3D = () => {
                // Este efecto es manejado por el script principal de 3D Tilt Effect
                // No duplicar código aquí para evitar conflictos
                console.log('3D effect handled by main script');
            };

            // 3. Partículas Orbitantes en Nodos
            const injectOrbits = () => {
                document.querySelectorAll('.tp-node').forEach(node => {
                    if (node.querySelectorAll('.tp-orbiter').length > 0) return;
                    for (let i = 0; i < 5; i++) {
                        const p = document.createElement('div');
                        p.className = 'tp-orbiter';
                        p.style.animationDelay = `-${i * 0.6}s`;
                        node.appendChild(p);
                    }
                });
            };

            // 4. Contador Pérdidas Paso 04
            const injectLossCounter = () => {
                const lossEl = document.getElementById('tp-loss-val');
                if (lossEl) {
                    let curr = 0;
                    setInterval(() => {
                        curr++; if (curr > 127) curr = 0;
                        lossEl.textContent = curr;
                    }, 80);
                }
            };

            // 5. Animación Estadísticas Finales
            const injectStatsAnimation = () => {
                const stats = [
                    { id: 'tp-stat-h', val: 47, pfx: '' },
                    { id: 'tp-stat-m', val: 8500, pfx: '€' },
                    { id: 'tp-stat-u', val: 230, pfx: '' }
                ];

                const statsObserver = new IntersectionObserver((entries) => {
                    if (entries[0].isIntersecting) {
                        stats.forEach(s => {
                            const el = document.getElementById(s.id);
                            if (!el) return;
                            let count = 0;
                            const duration = 2500;
                            const startTime = performance.now();
                            function update(currentTime) {
                                const elapsed = currentTime - startTime;
                                const progress = Math.min(elapsed / duration, 1);
                                const easeOut = t => t * (2 - t);
                                count = Math.floor(easeOut(progress) * s.val);
                                el.textContent = (s.pfx || '') + count.toLocaleString();
                                if (progress < 1) requestAnimationFrame(update);
                            }
                            requestAnimationFrame(update);
                        });
                        statsObserver.disconnect();
                    }
                }, { threshold: 0.2 });

                const cta = document.querySelector('.tp-cta');
                if (cta) statsObserver.observe(cta);
            };

            // Execute all enhancements
            try { injectTimer(); } catch (e) { console.warn('Timer init failed:', e); }
            try { inject3D(); } catch (e) { console.warn('3D init failed:', e); }
            try { injectOrbits(); } catch (e) { console.warn('Orbits init failed:', e); }
            try { injectLossCounter(); } catch (e) { console.warn('Loss counter init failed:', e); }
            try { injectStatsAnimation(); } catch (e) { console.warn('Stats animation init failed:', e); }
        };

        // Execute core immediately
        startProSmartCore();

        // === LOSSES SECTION V2 ANIMATIONS ===
        function initLossesAnimations() {
            const counters = [
                { id: 'loss-hours-v2', target: 330, suffix: '' },
                { id: 'loss-salary-v2', target: 6710, prefix: '€', separator: true },
                { id: 'loss-machines-v2', target: 60, suffix: '' },
                { id: 'loss-production-v2', target: 22000, prefix: '€', separator: true },
                { id: 'total-loss-v2', target: 28710, prefix: '€', separator: true },
                { id: 'total-annual-v2', target: 344520, prefix: '€', separator: true }
            ];

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        counters.forEach(counter => {
                            const element = document.getElementById(counter.id);
                            if (!element || element.dataset.animated) return;

                            element.dataset.animated = 'true';
                            let current = 0;
                            const duration = 2000; // 2 seconds
                            const startTime = performance.now();

                            function animate(currentTime) {
                                const elapsed = currentTime - startTime;
                                const progress = Math.min(elapsed / duration, 1);

                                // Easing out cubic
                                const easedProgress = 1 - Math.pow(1 - progress, 3);
                                current = counter.target * easedProgress;

                                let displayValue = Math.round(current);
                                if (counter.separator) displayValue = formatNumber(displayValue);

                                element.textContent = (counter.prefix || '') + displayValue + (counter.suffix || '');

                                if (progress < 1) {
                                    requestAnimationFrame(animate);
                                }
                            }

                            requestAnimationFrame(animate);
                        });
                        observer.disconnect();
                    }
                });
            }, { threshold: 0.1 }); /* Reduced threshold to 0.1 for better mobile triggering */

            const section = document.querySelector('.losses-section-v2');
            if (section) observer.observe(section);
        }

        // New Interactive Loss Cards
        function initLossCards() {
            const cards = document.querySelectorAll('.loss-card-v2');
            cards.forEach(card => {
                card.addEventListener('mousemove', e => {
                    const rect = card.getBoundingClientRect();
                    const x = ((e.clientX - rect.left) / card.clientWidth) * 100;
                    const y = ((e.clientY - rect.top) / card.clientHeight) * 100;
                    card.style.setProperty('--mouse-x', `${x}%`);
                    card.style.setProperty('--mouse-y', `${y}%`);
                });

                // Reset position on leave
                card.addEventListener('mouseleave', () => {
                    card.style.setProperty('--mouse-x', `50%`);
                    card.style.setProperty('--mouse-y', `50%`);
                });
            });
        }

        // Initialize losses animations after DOM load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initLossesAnimations);
            document.addEventListener('DOMContentLoaded', initLossCards);
        } else {
            initLossesAnimations();
            initLossCards();
        }

        // Init Orange Particles
        function initOrangeParticles() {
            const container = document.getElementById('orange-particles');
            if (container) {
                container.innerHTML = '';
                for (let i = 0; i < 35; i++) { // More particles for impact
                    const p = document.createElement('div');
                    p.className = 'orange-particle';
                    const size = 3 + Math.random() * 6;
                    p.style.cssText = `
                        left: ${Math.random() * 100}%; 
                        width: ${size}px; 
                        height: ${size}px; 
                        animation-delay: ${Math.random() * 20}s;
                        bottom: -50px;
                    `;
                    container.appendChild(p);
                }
            }
        }
        // === PRICING LIVE MONEY COUNTER ===
        function initLiveMoneyCounter() {
            const counterElement = document.getElementById('live-money-counter');
            if (!counterElement) return;

            const hourlyLoss = 127; // €127 per hour
            const secondlyLoss = hourlyLoss / 3600; // Per second
            const speedMultiplier = 180; // Turbo mode: Adjusted for "one by one" visual
            let startTime = Date.now();
            let isRunning = false;

            function updateCounter() {
                const elapsed = (Date.now() - startTime) / 1000; // seconds
                let totalLost = elapsed * secondlyLoss * speedMultiplier;

                // Direct formatting to ensure no dependency issues
                counterElement.textContent = '€' + totalLost.toLocaleString('es-ES', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                requestAnimationFrame(updateCounter);
            }

            const section = document.querySelector('.pricing-revolution');
            if (section) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !isRunning) {
                            isRunning = true;
                            startTime = Date.now();
                            updateCounter();
                            observer.disconnect();
                        }
                    });
                }, { threshold: 0.1 }); // Lower threshold to ensure trigger
                observer.observe(section);
            } else {
                // Fallback if section not found
                if (!isRunning) {
                    isRunning = true;
                    startTime = Date.now();
                    updateCounter();
                }
            }
        }

        // Initialize pricing counter
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initLiveMoneyCounter);
        } else {
            initLiveMoneyCounter();
        }
    </script>
    // End of unified form handling
    <script>
        // 3D Tilt Effect for Hero Cards, Timeline Cards, and Stats Cards
        document.addEventListener('DOMContentLoaded', () => {
            const cards = document.querySelectorAll('.hero-feat, .tp-card, .loss-card-v2');

            cards.forEach(card => {
                let lastUpdate = 0;
                const throttleMs = 50; // Only update every 50ms for smoother feel

                card.addEventListener('mousemove', (e) => {
                    const now = Date.now();
                    if (now - lastUpdate < throttleMs) return;
                    lastUpdate = now;

                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;

                    // Update CSS variables for glow
                    card.style.setProperty('--mouse-x', `${x}px`);
                    card.style.setProperty('--mouse-y', `${y}px`);

                    // Tilt Calculation - Noticeable but smooth effect
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    const rotateX = ((y - centerY) / centerY) * -4; // 4deg rotation - noticeable
                    const rotateY = ((x - centerX) / centerX) * 4;

                    gsap.to(card, {
                        rotateX: rotateX,
                        rotateY: rotateY,
                        duration: 0.6, // Responsive but smooth
                        ease: "power2.out"
                    });
                });

                card.addEventListener('mouseleave', () => {
                    gsap.to(card, {
                        rotateX: 0,
                        rotateY: 0,
                        duration: 1.5, // Slow return
                        ease: "power1.out"
                    });
                });
            });
        });
    </script>
    <script>
        // Timeline Scroll Animations
        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);

            const timelineItems = document.querySelectorAll('.tp-item');

            timelineItems.forEach((item, index) => {
                // Odd items (1, 3, 5...): Content is on Right, Visual on Left (in standard flex row)
                // Even items (2, 4, 6...): Content is on Left, Visual on Right (in row-reverse)

                // Let's configure direction based on visual flow
                // We want them to slide IN towards the center (or simply fade up/in)
                // User asked for "lateral", so let's slide from sides.

                const direction = index % 2 === 0 ? -100 : 100; // -100 (Left) for 1st, 100 (Right) for 2nd... check layout

                // Animate the whole item content wrappers if possible, or the item itself
                // Since item spans full width, animating x might cause scrollbar issues if not careful with overflow hidden
                // Better to animate children or use from with clear opacity.

                // Let's animate child elements for cleaner look
                const content = item.querySelector('.tp-content');
                const visual = item.querySelector('.tp-visual');

                if (content && visual) {
                    // Create a timeline for this item
                    const tl = gsap.timeline({
                        scrollTrigger: {
                            trigger: item,
                            start: "top 80%", // Start when top of item hits 80% viewport height
                            end: "bottom 60%",
                            toggleActions: "play none none reverse"
                        }
                    });

                    // Determine slide direction
                    // Odd (Index 0, 2.. in JS): Row -> Visual Left, Content Right
                    // Even (Index 1, 3.. in JS): Row-Reverse -> Visual Right, Content Left

                    const isOdd = index % 2 === 0; // 0-based index means Item 1 is Even index 0

                    if (isOdd) {
                        // Visual (Left) slides from Left, Content (Right) slides from Right
                        tl.from(visual, { x: -50, opacity: 0, duration: 1.5, ease: "power2.out" }, 0)
                            .from(content, { x: 50, opacity: 0, duration: 1.5, ease: "power2.out" }, 0);
                    } else {
                        // Visual (Right) slides from Right, Content (Left) slides from Left
                        tl.from(visual, { x: 50, opacity: 0, duration: 1.5, ease: "power2.out" }, 0)
                            .from(content, { x: -50, opacity: 0, duration: 1.5, ease: "power2.out" }, 0);
                    }
                }
            });
        });
    </script>
    <script src="assets/js/neural-network.js"></script>
    <script src="assets/js/about-neural-bg.js"></script>
    <script>
        // Initialize About Section Neural Background
        document.addEventListener('DOMContentLoaded', function () {
            if (typeof initAboutNeuralBg === 'function') {
                initAboutNeuralBg();
            }
        });
    </script>
</body>

</html>